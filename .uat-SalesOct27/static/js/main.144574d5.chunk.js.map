{"version":3,"sources":["serviceWorker.js","mappingTables/languageTranslations.js","components/PlaceHolder/index.js","setup.js","components/Kpi/index.js","hooks/QlikProvider.js","qDefs/List/chartControl.js","qDefs/List/appDataDef.js","hooks/useChartSpec.js","hooks/useGaugeContainer.js","qDefs/List/drillDownDataDef.js","hooks/useHyperCubeData.js","hooks/useSessionObject.js","hooks/useDoughnutContainer.js","components/Line/line.js","components/Line/index.js","components/Bar/bar.js","components/Bar/index.js","components/Gauge/index.js","hooks/useResizeObserver.js","components/LeapKpi/leapkpi.js","components/LeapKpi/index.js","components/ViewMore/index.js","components/Doughnut/index.js","components/colorTheme/index.js","mappingTables/drillDownMappingException.js","mappingTables/regions.js","DrillDownUrl.js","Pages/PerformancePage.js","hooks/usePageData.js","components/Loader/index.js","components/tab/index.js","App.js","hooks/useSession.js","hooks/useAppData.js","hooks/useGetSheetData.js","index.js"],"names":["Boolean","window","location","hostname","match","languages","key","language","message","loadingMsg","legendMsg","languageParam","URLSearchParams","search","get","PlaceHolder","filter","d","i","style","fontSize","width","height","display","justifyContent","alignItems","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","checkUserLogin","_x","_x2","_checkUserLogin","apply","arguments","_asyncToGenerator","_callee3","tenant","webIntegrationId","res","returnTo","_context3","fetch","concat","mode","credentials","redirect","headers","status","t0","encodeURIComponent","href","getQCSHeaders","_x3","_getQCSHeaders","_callee4","_ref","url","response","loginUrl","csrfToken","_context4","URL","searchParams","append","Map","setup","_ref2","_callee2","spaceID","config","settings","_context2","process","ReactDOM","render","React","createElement","document","getElementById","host","isSecure","appname","crossDomain","withCredentials","appName","axios","_ref4","_callee","_ref3","_apps$find","apps","params","_context","data","find","app","resourceId","map","join","_x5","_x4","navigator","serviceWorker","ready","registration","unregister","objDef","qDef","row","items","kpi_Val_type","qText","title","f_val","lbl","colors","variance1Title","variance1","variance2Title","variance2","variances_color","s","color","includes","fontWeight","split","f","Math","sign","parseInt","variance3","variance3Title","className","QlikContext","createContext","children","session","useConnectEngine","doc","useOpenDoc","Provider","chartControlDef","qInfo","qType","qHyperCubeDef","qDimensions","qFieldDefs","qSortCriterias","qSortByAscii","qInitialDataFetch","qWidth","qHeight","appDataDef","qMeasures","container","useState","chartSpec","setChartSpec","useEffect","update","current","chart","querySelector","sub$","fromEvent","pipe","getBoundingClientRect","startWith","subscribe","unsubscribe","chartSpecCalc","twoPi","PI","useRef","note2Value","arc","d3","gContainerBackground","selectAll","exit","remove","enter","classed","attr","endAngle","startAngle","innerRadius","outerRadius","circleCurrentPath","merge","drillDownDataDef","def","dataTransformFunc","a","path","useSessionObject","layout","useGetLayout","invalidations","qResponse","setData","paths","deepFind","qix","useContext","useCreateSessionObject","radius","transformx","transformy","totalFontSize","innerWidth","group","select","pie","sort","g","transition","delay","duration","attrTween","t","total","text","num","abs","toFixed","margin","Line","refLine","upperTarget","lowerTarget","colorTheme","d3Data","setD3Data","yAxisRef","xAxisRef","svgRef","lineRef","refLineRef","circleRef","urlRoot","lastIndexOf","referenceLineData","latestPointData","refLineMax","refLineMin","xScale","useMemo","domain","qNum","range","yScale","yMax","yMin","min","xMin","xAxis","yAxis","ticks","lineFunction","x","y","gPath","gRefline","gSymbol","gWarningImage","gText","ref","debug","item","pos","week","useHyperCubeData","useCallback","qHyperCube","qDataPages","qMatrix","lines","kpi_value_type","toUpperCase","r","lineData","o","lineChart","isNull","lineChartRef","useChartSpec","clientHeight","rows","tabName","parent","postMessage","refLines","Bar","target","targetRounded","tierName","currency","rectRef","textRef","Title_y","xMaxlimit","Number","xMax","tickFormat","number","lblValueXScale","xScaleDif","overflow","paddingLeft","paddingTop","fill","transform","trunc","x1","x2","y1","y2","stroke","strokeWidth","barData","barChartRef","valueType","subtitle","note2Text","isFinite","note2Title","note1Value","note1Title","useGaugeContainer","viewBox","useResizeObserver","dimensions","setDimensions","observeTarget","resizeObserver","ResizeObserver","entries","contentRect","observe","unobserve","LeapKpi","wrapperRef","svg","layers","order","stackGenerator","extent","layer","sequence","points","padding","bandwidth","tickSize","tickSizeOuter","Fragment","marginBottom","marginLeft","id","index","background","barcolors","d_keys","dim1","dim2","dimention","leapbartitle","leapkpititle","leapkpivalue","ViewMore","drillDownUrl","bg","iconColor","setIconColor","textDecoration","onMouseEnter","onMouseLeave","float","position","top","left","nameKey","myArray","DataRows","chartTitle","currency_abb","substr","chartColors","dataPoints","useDoughnutContainer","backgroundColor","reffLines","chartPrimaryColor","drillDownMappingException","_","pickBy","DrillDownUrl","sheetData","regions","drilldownAppData","sheet","description","trim","engineObjectId","Page","activeSubTab","activePrimaryTabName","sortOrderInfo","_usePageData","grouping","lodashGroupBy","toLowerCase","rowNum","indexOf","derivedPostion","_lodashGroupBy","kpis","kpi","gauges","gauge","line","bars","bar","leaps","leap","doughnuts","doughnut","groupBy","groupedKpis","groupedGauges","groupedLines","groupedBars","groupedLeaps","groupedDoughnut","usePageData","getRowTitles","region","headersSortOrder","_toConsumableArray","Set","tab_name","sub_tab_name","header_name","KpiRow","rowtitle","displayorder","chartype","Kpi","GaugeColumns","Gauge","LineColumns","BarColumns","LeapKpiColums","DoughnnutColums","Doughnut","allRows","data_by_header","gd","props","sd","lodashsortBy","reduce","groupedGridRows_Sorted","container_ref","rowItems","Loader","message1","Tab","_useState","_useState2","_slicedToArray","activeTabSubTab","setActiveSubTab","_useState3","_useState4","tabsData","setTabsData","_useState5","_useState6","dataAvailalbe","SetdataAvailalbe","Children","element","isValidElement","_element$props","tab","isMain","container_refZ","closest","idx","onClick","handleSubTabClick","TabPane","App","connectionError","_useAppData","chartControlData","setChartControlData","appData","setAppData","isLoading","setPreLoader","_useState7","_useState8","setOrderInfo","_useState9","_useState10","isControlDataLoaded","setControlDataLoaded","chartControl","appLayout","quarter","quarterStartDate","quarterEndDate","snapDate","sortOrderTable","TitleOrderLayout","qsortData","srAr","tab_order","sub_order","header_order","useAppData","setregion","setSheetData","sheets","sheetId","sheetName","useGetSheetData","activePrimaryTab","setActivePrimaryTab","subTabGroups","subTabTitles","primaryTabOrder","findIndex","primaryTabs","qUniquePrimaryTab","pTabs","controlDataSorted","_chartControlData$0$","flow","sortBy","primaryTabgroups","subTabOrder","qUniqueSubTabs","sTabs","groupsd","getSubTabGroups","noDataCondition","Maintab","tabN","lineHeight","String","startsWith","searchString","this","QlikProvider","console","log"],"mappings":"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","file":"static/js/main.144574d5.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const languages = [\r\n  {\r\n    key: \"CS_CZ\",\r\n    language: \"Czech\",\r\n    message: \"Data nejsou k dispozici\",\r\n    loadingMsg: \"dic panel se nat, ekejte prosm.\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"DE_DE\",\r\n    language: \"German\",\r\n    message: \"Keine Daten verfgbar\",\r\n    loadingMsg: \"Dashboard wird geladen, bitte warten\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"EN_US\",\r\n    language: \"English\",\r\n    message: \"No Data Available\",\r\n    loadingMsg: \"Dashboard is loading, please wait\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"ES_ES\",\r\n    language: \"Spanish (Spain)\",\r\n    message: \"No hay informacin disponible\",\r\n    loadingMsg: \"Espera a que el panel de control se cargue\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"EN_GB\",\r\n    language: \"English UK\",\r\n    message: \"No Data Available\",\r\n    loadingMsg: \"Dashboard is loading, please wait\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"ES_MX\",\r\n    language: \"Spanish (LAS)\",\r\n    message: \"No hay informacin disponible\",\r\n    loadingMsg: \"El dashboard se est cargando, por favor espere\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"FR_FR\",\r\n    language: \"French\",\r\n    message: \"Aucune donne disponible\",\r\n    loadingMsg: `Le tableau de bord est en cours de chargement, veuillez patienter`,\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"IN_ID\",\r\n    language: \"Indonesian\",\r\n    message: \"Tidak ada data tersedia\",\r\n    loadingMsg: \"Dasbor sedang dimuat, harap tunggu\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"IT_IT\",\r\n    language: \"Italian\",\r\n    message: \"Informazioni non disponibili\",\r\n    loadingMsg: \"Attendi,  in corso il caricamento del dashboard\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"KO_KR\",\r\n    language: \"Korean\",\r\n    message: \"  \",\r\n    loadingMsg: \"  .   .\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"NL_NL\",\r\n    language: \"Dutch\",\r\n    message: \"Geen data beschikbaar\",\r\n    loadingMsg: \"Dashboard wordt geladen, even geduld\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"PL_PL\",\r\n    language: \"Polish\",\r\n    message: \"Brak Danych\",\r\n    loadingMsg: \"Trwa adowanie pulpitu, prosz czeka\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"PT_BR\",\r\n    language: \"Portuguese (Brazil)\",\r\n    message: \"Dados no disponveis\",\r\n    loadingMsg: \"Painel est carregando, por favor, espere\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"RU_RU\",\r\n    language: \"Russian\",\r\n    message: \" \",\r\n    loadingMsg: \"  . .\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"TH_TH\",\r\n    language: \"Thai\",\r\n    message: \"No Data Available\",\r\n    loadingMsg: \" \",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"VI_VN\",\r\n    language: \"Vietnamese\",\r\n    message: \"Thng tin ny hin khng c\",\r\n    loadingMsg: \"Bo co ang ti, vui lng i trong giy lt\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"ZH_CN\",\r\n    language: \"Traditional Chinese\",\r\n    message: \"\",\r\n    loadingMsg: \"\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n  {\r\n    key: \"JA_JP\",\r\n    language: \"Japanese\",\r\n    message: \"\",\r\n    loadingMsg: \"\",\r\n    legendMsg: 'Click on a KPI object to access detailed data'\r\n  },\r\n];\r\n\r\nexport default languages;\r\n","import React from \"react\";\r\nimport languages from \"../../mappingTables/languageTranslations\";\r\n\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nconst languageParam = urlParams.get(\"lang\");\r\n\r\nconst PlaceHolder = ({ message }) => {\r\n  if (message !== \"Connection Failed\" && languageParam !== null) {\r\n    message = languages.filter((d, i) => d.key === languageParam)[0].message;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        fontSize: \"24px\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\nexport default PlaceHolder;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport axios from \"axios\";\r\nimport PlaceHolder from \"./components/PlaceHolder\";\r\n\r\nasync function checkUserLogin(tenant, webIntegrationId) {\r\n  try {\r\n    // call your-tenant.us.qlikcloud.com/api/v1/users/me to\r\n    // retrieve the user metadata, as a way to detect if they\r\n    // are signed in. An error will be thrown if the response\r\n    // is a non-2XX HTTP status:\r\n    //const res = await fetch(`/api/v1/users/me`, {\r\n    const res = await fetch(`https://${tenant}/api/v1/users/me`, {\r\n      mode: \"cors\",\r\n      credentials: \"include\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        // web integration is sent as a header:\r\n        \"qlik-web-integration-id\": webIntegrationId,\r\n      },\r\n    });\r\n    if (res.status < 200 || res.status >= 400) throw res;\r\n  } catch (err) {\r\n    const returnTo = encodeURIComponent(window.location.href);\r\n    // redirect your user to the tenant log in screen, and once they're\r\n    // signed in, return to your web app:\r\n    window.location.href = `https://${tenant}/login?returnto=${returnTo}&qlik-web-integration-id=${webIntegrationId}`;\r\n    throw err;\r\n  }\r\n}\r\n\r\nasync function getQCSHeaders({ webIntegrationId, url }) {\r\n  const response = await fetch(`${url}/api/v1/csrf-token`, {\r\n    credentials: \"include\",\r\n    headers: { \"qlik-web-integration-id\": webIntegrationId },\r\n  });\r\n  if (response.status === 401) {\r\n    const loginUrl = new URL(`${url}/login`);\r\n    loginUrl.searchParams.append(\"returnto\", window.location.href);\r\n    loginUrl.searchParams.append(\"qlik-web-integration-id\", webIntegrationId);\r\n    window.location.href = loginUrl;\r\n    return undefined;\r\n  }\r\n  const csrfToken = new Map(response.headers).get(\"qlik-csrf-token\");\r\n  return {\r\n    \"qlik-web-integration-id\": webIntegrationId,\r\n    \"qlik-csrf-token\": csrfToken,\r\n  };\r\n}\r\n\r\n//make an ajax call to dynamically get the appID once the app list has been filtered by tag name\r\nconst setup = async (name) => {\r\n  //console.log(\"process\",process.env)\r\n\r\n  //for PRD\r\n  // if(host===\"ddwiel1pyau3r.cloudfront.net\"){\r\n  //   console.log(\"PRD\");\r\n  // }\r\n\r\n  //   const tenant =\"lenovo-lph-ai.us.qlikcloud.com\";\r\n  //   const webIntegrationId = \"9Qj-tLrexDWjKAoOJRx9Gnh6a0z7oTmA\";\r\n  //   const spaceID = \"61327a6341b8a9e9a21a53eb\";\r\n\r\n  //   (function() {\r\n  //     var qtm = document.createElement('script'); qtm.type = 'text/javascript'; qtm.async = 1;\r\n  //     qtm.src = 'https://cdn.quantummetric.com/qscripts/quantum-lenovopartnerhub.js';\r\n  //     var d = document.getElementsByTagName('script')[0];\r\n  //     !window.QuantumMetricAPI && d.parentNode.insertBefore(qtm, d);\r\n  // })();\r\n\r\n  //for UAT\r\n  // if(host===\"dyq9uf3gawydx.cloudfront.net\"){\r\n  //   console.log(\"UAT\");\r\n  // }\r\n\r\n  // const tenant =\"mbq71d0rz7otbdf.eu.qlikcloud.com\";\r\n  // const webIntegrationId = \"pBw85_j9m_Thz5A6U5tDm37BiFmouLrH\";\r\n  // const spaceID = \"618bd084eac3bd232c7a07ec\";\r\n\r\n  const tenant = process.env.tenant;\r\n  const webIntegrationId = process.env.webIntegrationId;\r\n  const spaceID = process.env.spaceID;\r\n\r\n  // if (process.env.Qlik_ENV === \"UAT\")\r\n  //   (function () {\r\n  //     var qtm = document.createElement(\"script\");\r\n  //     qtm.type = \"text/javascript\";\r\n  //     qtm.async = 1;\r\n  //     qtm.src =\r\n  //       \"https://cdn.quantummetric.com/qscripts/quantum-lenovopartnerhub-test.js\";\r\n  //     var d = document.getElementsByTagName(\"script\")[0];\r\n  //     !window.QuantumMetricAPI && d.parentNode.insertBefore(qtm, d);\r\n  //   })();\r\n\r\n  if (process.env.Qlik_ENV === \"PRD\")\r\n    (function () {\r\n      var qtm = document.createElement(\"script\");\r\n      qtm.type = \"text/javascript\";\r\n      qtm.async = 1;\r\n      qtm.src =\r\n        \"https://cdn.quantummetric.com/qscripts/quantum-lenovopartnerhub.js\";\r\n      var d = document.getElementsByTagName(\"script\")[0];\r\n      !window.QuantumMetricAPI && d.parentNode.insertBefore(qtm, d);\r\n    })();\r\n\r\n  // show connecting message\r\n  ReactDOM.render(\r\n    <PlaceHolder message=\"Connecting, please wait\" />,\r\n    document.getElementById(\"root\")\r\n  );\r\n\r\n  try {\r\n    await checkUserLogin(tenant, webIntegrationId);\r\n\r\n    const config = {\r\n      url: \"\",\r\n      host: tenant,\r\n      isSecure: true,\r\n      appname: \"\",\r\n      webIntegrationId,\r\n    };\r\n\r\n    const settings = {\r\n      crossDomain: true,\r\n      withCredentials: true,\r\n      url: `https://${tenant}/api/v1/items?resourceType=app&spaceId=${spaceID}&limit=50`,\r\n      method: \"GET\",\r\n      headers: { \"qlik-web-integration-id\": config.webIntegrationId },\r\n      appName: name,\r\n    };\r\n\r\n    return axios(settings)\r\n      .then(async ({ data: response }) => {\r\n        const apps = response.data;\r\n        //console.log(apps);\r\n        const appname = apps.find(\r\n          (app) => app.name === settings.appName\r\n        )?.resourceId;\r\n        config.appname = appname;\r\n        const headers = await getQCSHeaders({\r\n          url: `https://${tenant}`,\r\n          webIntegrationId: webIntegrationId,\r\n        });\r\n        const params = Object.keys(headers)\r\n          .map((key) => `${key}=${headers[key]}`)\r\n          .join(\"&\");\r\n\r\n        config.url = `wss://${config.host}/app/${appname}?${params}`;\r\n        //  console.log(config);\r\n        return { config, apps };\r\n      })\r\n      .catch((error) => {\r\n        return ReactDOM.render(\r\n          <PlaceHolder message=\"Connection Failed\" />,\r\n          document.getElementById(\"root\")\r\n        );\r\n      });\r\n  } catch {\r\n    return ReactDOM.render(\r\n      <PlaceHolder message=\"Connecting, please wait\" />,\r\n      document.getElementById(\"root\")\r\n    );\r\n  }\r\n};\r\nexport default setup;\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n// async function handleAutomaticLogin() {const { token } = await fetch(\"token\").then(resp =>resp.json());\r\n// const login = await fetch(`https://${tenantDomain}/login/jwt-session?qlik-web-integration-id=${qlikWebIntegrationId}`,{method: \"POST\",credentials: \"include\",mode: \"cors\",headers: {\"content-type\": \"application/json\",Authorization: `Bearer ${token}`,\"qlik-web-integration-id\": qlikWebIntegrationId\r\n// },rejectunAuthorized: false});\r\n// }\r\n","import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nexport default ({ qDef: objDef }) => {\r\n //console.log(\"KPI DEF\", objDef);\r\n var debug = false;\r\n let row = objDef.map((items)=>{\r\n  return { kpi_Val_type:items[4].qText,\r\n            title:items[3].qText,\r\n            val:items[12].qText,\r\n            f_val:items[13].qText,\r\n            lbl:items[14].qText}\r\n            // return { kpi_Val_type: \"valueType\",\r\n            //   title:\"Title\",\r\n            //   val:\"Val\",\r\n            //   f_val:\"600.0K INR\",\r\n            //   lbl:\"lbl\"}\r\n  });\r\n\r\n  if(debug){\r\n    console.log(row);\r\n    if(row.length<3)\r\n    console.error(\"Custom error\", row);\r\n    console.table(row);\r\n  }\r\n\r\nvar colors =[\"#E1140A\",\"#00cc44\"]\r\n\r\n  const data = {\r\n        title: row.length ? row[0].title : \"\",\r\n        value: row.length ? row[0].f_val : \"\",\r\n        variance1Title : row.length > 1 ? row[1].lbl : \"\",\r\n        variance1 : row.length > 1 ? row[1].f_val : \"\",\r\n        variance2Title: row.length > 2 ? row[2].lbl : \"\",\r\n        variance2: row.length > 2 ? row[2].f_val : \"\",\r\n        // variance3Title:row.length > 3 ? row[3].lbl : \"\",\r\n        // variance3: row.length > 3 ? row[3].lbl : \"\",\r\n    }\r\n\r\n function variances_color(params) {\r\n let s = { color: params.includes(\"\")?colors[0]:params.includes(\"\")?colors[1]:\"\",fontWeight:\"bolder\"}\r\n//  s.color=\"black\"\r\n\r\n if(params.includes(\"\"||\"\")){\r\n      if(params.includes(\"\")){\r\n          s.color= colors[0];\r\n      }\r\n      if(params.includes(\"\")){\r\n            s.color= colors[1];\r\n      }\r\n}\r\n\r\n if(params.includes(\"%\"))\r\n {\r\n       let d = params.split(\"%\")\r\n      // console.log(d);\r\n      // console.log(d[0]);\r\n      let f = Math.sign(parseInt(d[0]));\r\n      // console.log(\"f\",f);\r\n\r\n      if(f==-1){\r\n        s.color=colors[0]\r\n      }\r\n      else{\r\n        s.color=colors[1]\r\n      }\r\n    \r\n }\r\n\r\n \r\n return s;\r\n \r\n}\r\n\r\n if (!data) return <div>Loading...</div>;\r\n\r\n  const {\r\n    title,\r\n    value,\r\n    variance1,\r\n    variance2,\r\n    variance3,\r\n    variance1Title,\r\n    variance2Title,\r\n    variance3Title\r\n  } = data;\r\n\r\n  return (\r\n    <div className=\"kpi-container\">\r\n      <div className={`subtitle`}>{title}</div>\r\n      <div className=\"kpi-value-section\">\r\n        <div\r\n          className={\r\n            objDef.length === 4\r\n              ? \"kpi-value display kpiv2\"\r\n              : \"kpi-value display\"\r\n          }\r\n        >\r\n \r\n           {value}\r\n        </div>\r\n        <div className=\"kpi-variances\">\r\n          <div className=\"kpi-variance\">\r\n            <div\r\n              className={\r\n                objDef.length === 4\r\n                  ? \"note variance-label kpiv2\"\r\n                  : \"note variance-label\"\r\n              }\r\n              title={variance1Title}\r\n            >\r\n              {variance1Title}  \r\n            </div>\r\n            <div className={\"note-value\"} style={ variances_color(variance1) }  >{variance1}</div>\r\n          </div>\r\n          <div className=\"kpi-variance\">\r\n            <div\r\n              className={\r\n                objDef.length === 4\r\n                  ? \"note variance-label kpiv2\"\r\n                  : \"note variance-label\"\r\n              }\r\n              title={variance2Title}\r\n            >\r\n              {variance2Title}\r\n            </div>\r\n            <div className={\"note-value\"} style={ variances_color(variance2)}>{variance2}</div>\r\n          </div>\r\n          {variance3Title !== null && variance3 !== null ? (\r\n            <div className=\"kpi-variance\">\r\n              <div\r\n                className={\r\n                  objDef.length === 4\r\n                    ? \"note variance-label kpiv2\"\r\n                    : \"note variance-label\"\r\n                }\r\n              >\r\n                {variance3Title}\r\n              </div>\r\n              <div className={\"note\"}>{variance3}</div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { createContext } from \"react\";\r\nimport { useConnectEngine } from \"qlik-hooks\";\r\nimport { useOpenDoc } from \"qlik-hooks/Global\";\r\n\r\n//set up context for Qlik connection data\r\nexport const QlikContext = createContext();\r\n\r\nexport default ({ config, apps, children }) => {\r\n  //connect to Qlik engine and establish session\r\n  const session = useConnectEngine(config);\r\n\r\n  //open Qlik app\r\n  const doc = useOpenDoc(session, { params: [config.appname] });\r\n  return (\r\n    <QlikContext.Provider value={{ doc, session, apps, config }}>\r\n      {children}\r\n    </QlikContext.Provider>\r\n  );\r\n};\r\n","const chartControlDef = {\r\n  qInfo: {\r\n    qType: \"chart control\",\r\n  },\r\n  qHyperCubeDef: {\r\n    qDimensions: [\r\n      {\r\n        qDef: {\r\n          //qFieldDefs: [\"zKey_KPI_GEO_ID\"],\r\n          qFieldDefs: [\"kpi_id\"],\r\n          qSortCriterias: [\r\n            {\r\n              qSortByAscii: 1,\r\n            },\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"position\"], //1/\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"element\"], //2\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"kpi_description\"], //3\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"kpi_value_type\"], //4 no //kpi_label //kpi_value_type\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"pcgdcg\"], //5\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"Object GEO ID\"], //6\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"geo\"], //7\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"persona_type\"], //8\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"bp_type\"], //9\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"bp_type_mapped\"], //10\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"sub_tab\"], // [\"=if(sub_tab='-','*',**)\"], //11 sub_tab\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"local_value\"], //12\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"local_value_formated\"], //13\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"kpi_label\"], //14\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"week_of_quarter\"], //15\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"value\"], //16\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"header\"], //17\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"tab\"], //18\r\n        },\r\n      },\r\n    ],\r\n    // qFieldDefs: [\"zKey_KPI_GEO_ID\"],\r\n    qInitialDataFetch: [{ qWidth: 19, qHeight: 10000 / 19 }],\r\n  },\r\n};\r\n\r\nexport default chartControlDef;\r\n","const appDataDef = {\r\n  qInfo: {\r\n    qType: \"app data\",\r\n  },\r\n  qHyperCubeDef: {\r\n    qDimensions: [\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"quarter\"],\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"quarter_start_date\"],\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"quarter_end_date\"],\r\n        },\r\n      },\r\n    ],\r\n    qMeasures: [\r\n      {\r\n        qDef: {\r\n          qDef: \"=MinString(snap_date)\",\r\n        },\r\n      },\r\n    ],\r\n    qInitialDataFetch: [{ qWidth: 4, qHeight: 10000 / 4 }],\r\n  },\r\n};\r\n\r\nexport default appDataDef;\r\n","import { useEffect, useState } from \"react\";\r\nimport { fromEvent } from \"rxjs\";\r\nimport { map, startWith } from \"rxjs/operators\";\r\n// //calculate container size of objects using Rxjs\r\nexport default (container, data) => {\r\n  const [chartSpec, setChartSpec] = useState(0);\r\n\r\n  const chartSpecCalc = (container, update) => {\r\n    if (container.current !== undefined) {\r\n     // console.log(container);\r\n      const chart = container.current.querySelector(\".svg\");\r\n      const sub$ = fromEvent(window, \"resize\")\r\n        .pipe(\r\n          map(() => [\r\n            chart.getBoundingClientRect().width - 10,\r\n            chart.getBoundingClientRect().height - 20,\r\n          ]),\r\n          startWith([\r\n            chart.getBoundingClientRect().width - 10,\r\n            chart.getBoundingClientRect().height - 20,\r\n          ])\r\n        )\r\n        .subscribe(update);\r\n\r\n      return () => sub$.unsubscribe();\r\n    }\r\n    \r\n  };\r\n\r\n  useEffect(() => chartSpecCalc(container, setChartSpec), [container, data]);\r\n //console.log({ width: chartSpec[0], height: chartSpec[1] });\r\n  return { width: chartSpec[0], height: chartSpec[1] };\r\n};\r\n","import { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\nconst twoPi = 2 * Math.PI;\r\n\r\n//D3 code for gauge object\r\nexport default (data) => {\r\n  //console.log(\"useGaugeContainer\",data)\r\n  const container = useRef();\r\n\r\n  useEffect(() => {\r\n    if (data !== null && data.note2Value !== \"NaN\") {\r\n      var arc = d3.arc();\r\n\r\n      //background circle\r\n      var gContainerBackground = d3\r\n        .selectAll(\".background-container\")\r\n        .selectAll(\".circle-max\")\r\n        .data([data]);\r\n\r\n      gContainerBackground.exit().remove();\r\n\r\n      gContainerBackground\r\n        .enter()\r\n        .append(\"path\")\r\n        .classed(\"circle-max\", true)\r\n        .attr(\r\n          \"d\",\r\n          arc({\r\n            endAngle: twoPi * 0.75,\r\n            startAngle: 0,\r\n            innerRadius: 45,\r\n            outerRadius: 45,\r\n          })\r\n        )\r\n        .attr(\"stroke-linecap\", \"round\")\r\n        .attr(\"stroke-dasharray\", 1)\r\n        .attr(\"transform\", \"translate(48,48) rotate(225)\");\r\n\r\n      //filled portion of the gauge\r\n      var circleCurrentPath = d3\r\n        .select(container.current)\r\n        .selectAll(`.circle-current`)\r\n        .data([data]);\r\n\r\n      circleCurrentPath.exit().remove();\r\n\r\n      circleCurrentPath\r\n        .enter()\r\n        .append(\"path\")\r\n        .classed(`circle-current`, true)\r\n        .merge(circleCurrentPath)\r\n        .attr(\"transform\", \"translate(48,48) rotate(225)\")\r\n        .attr(\"d\", (d) => {\r\n          if (d.note2Value < 0) {\r\n            return arc({ \r\n              endAngle: 0,\r\n              startAngle: 0,\r\n              innerRadius: 45,\r\n              outerRadius: 45,\r\n            });\r\n          } else\r\n            return arc({\r\n          //if d.note2Value > 1, which means target achived is higher that the target\r\n         //make the guage 100%\r\n              endAngle: twoPi * (d.note2Value> 1 ? 1 * 0.75 : d.note2Value  * 0.75), \r\n              startAngle: 0,\r\n              innerRadius: 45,\r\n              outerRadius: 45,\r\n            });\r\n        });\r\n    }\r\n  }, [data, container]);\r\n\r\n  return container;\r\n};\r\n","\r\nconst drillDownDataDef = {\r\n  qInfo: {\r\n    qType: \"drillData\",\r\n  },\r\n  qHyperCubeDef: {\r\n    qDimensions: [\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"sheet_id\"],\r\n          qSortCriterias: [\r\n            {\r\n              qSortByAscii: 1,\r\n            },\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"sheet_name\"],\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"sheet_description\"],\r\n        },\r\n      },\r\n      {\r\n        qDef: {\r\n          qFieldDefs: [\"app_name\"],\r\n        },\r\n      },\r\n    ],\r\n\r\n    qInitialDataFetch: [{ qWidth: 5, qHeight: 1000 / 5 }],\r\n  },\r\n};\r\n\r\nexport default drillDownDataDef;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSessionObject } from \"./index\";\r\nimport { useGetLayout } from \"qlik-hooks/GenericObject\";\r\n\r\nfunction deepFind(obj, path) {\r\n  var paths = path.split(\".\"),\r\n    current = obj,\r\n    i;\r\n\r\n  for (i = 0; i < paths.length; ++i) {\r\n    if (current[paths[i]] === undefined) {\r\n      return undefined;\r\n    } else {\r\n      current = current[paths[i]];\r\n    }\r\n  }\r\n  return current;\r\n}\r\n\r\n//get data from Qlik using hypercube definitions.\r\nexport default ({ def, dataTransformFunc = (a) => a, path = \"qHyperCube\" }) => {\r\n  const handle = useSessionObject(def);\r\n\r\n  const layout = useGetLayout(handle, {\r\n    params: [],\r\n    invalidations: true,\r\n  }).qResponse;\r\n\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (layout !== null && layout !== undefined) {\r\n      setData(dataTransformFunc(deepFind(layout, path)));\r\n    }\r\n\r\n    return () => setData(null);\r\n  }, [layout, dataTransformFunc, path]);\r\n\r\n  return {\r\n    data,\r\n    handle,\r\n  };\r\n};\r\n","import { useContext } from \"react\";\r\nimport { useCreateSessionObject } from \"qlik-hooks/Doc\";\r\nimport { QlikContext } from \"./index\";\r\n\r\nexport default (qDef) => {\r\n  const qix = useContext(QlikContext).doc;\r\n\r\n  const obj = useCreateSessionObject(qix, {\r\n    params: [qDef],\r\n  });\r\n\r\n  return obj;\r\n};\r\n","import { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\n//const twoPi = 2 * Math.PI;\r\n\r\nfunction nFormatter(num) {\r\n  if (num >= 999999999) {\r\n     return ((Math.abs(num) / 1000000000).toFixed(1) + 'B');\r\n  }\r\n  if (num >= 999999) {\r\n   return  ((Math.abs(num) / 1000000).toFixed(1) + 'M');\r\n  }\r\n  if (num >= 999) {\r\n     return ((Math.abs(num) / 1000).toFixed(1) + 'K');\r\n  }\r\n  return Math.sign(num)*Math.abs(num);\r\n}\r\n\r\n//D3 code for gauge object\r\nexport default (data) => {\r\n // console.log(data)\r\n // console.log(\"useGaugeContainer\",data)\r\n  const container = useRef();\r\n\r\n  // var createPie = d3\r\n  // .pie()\r\n  // .sort(null) \r\n  // .startAngle(1.1*Math.PI)\r\n  // .endAngle(3.1*Math.PI)  \r\n  // .value(d => d.value);\r\n\r\n  \r\n\r\n  // const createArc = d3\r\n  // .arc()\r\n  // .innerRadius(radius)\r\n  // .outerRadius(radius-15);\r\n \r\n\r\n  // const colors = d3.scaleOrdinal(d3.schemeCategory10);\"#FFB43D\"\r\n  //var colors = [\"#FF6A00\",\"#8246AF\",\"#F04187\"   ]; \r\n  //var colors =  [\"#FF6A00\",\"#3e4b55\",\"#0099e6\"]; \r\n  var colors = [\"#FF7675\",\"#8246AF\",\"#F04187\"];\r\n\r\n  //const format = d3.format(\".2f\");\r\n\r\n  useEffect(() => {\r\n    // let s= generateData()\r\n    // console.log(s);\r\n    var radius = 30;\r\n    var transformx = 10;\r\n    var transformy = 45;\r\n    var totalFontSize = \"10px\";\r\n  \r\n    if(window.innerWidth > 1500){\r\n      radius = 30;\r\n      transformx =10;\r\n      transformy =45;\r\n    }\r\n  \r\n    if(window.innerWidth < 1300){\r\n      // alert(window.innerWidth)\r\n       radius = 30;\r\n       transformx = 40;\r\n       transformy =30;\r\n     }\r\n    if(window.innerWidth < 1200){\r\n     // alert(window.innerWidth)\r\n      radius = 28;\r\n      transformx = 40;\r\n      transformy =25;\r\n    }\r\n    if(window.innerWidth < 1100){\r\n      // alert(window.innerWidth)\r\n       radius = 25;\r\n       transformx = 45;\r\n       transformy =25;\r\n     }\r\n    if(window.innerWidth < 770){\r\n      //alert(window.innerWidth)\r\n       radius = 25;\r\n       transformx = 45;\r\n       transformy =25;\r\n       totalFontSize = \"8px\"\r\n    }\r\n      if (data !== null) {\r\n\r\n                  const group = d3.select(container.current);\r\n\r\n                  var Tooltip = group.select(\".toolTipContainer\")\r\n                  .append(\"div\")\r\n                  .style(\"opacity\", 0)\r\n                  .attr(\"class\", \"tooltip\")\r\n                  .style(\"background-color\", \"white\")\r\n                  .style(\"border\", \"solid\")\r\n                  .style(\"border-width\", \"2px\")\r\n                  .style(\"border-radius\", \"5px\")\r\n                  .style(\"padding\", \"5px\")\r\n                  .style(\"z-index\",\"200\");\r\n\r\n                  //group.select(\"svg\").\r\n                  const groupWithData = group.select(\"svg\").selectAll(\"g.arc\").data(data);\r\n                  groupWithData.exit().remove();\r\n\r\n                   var chart = group.select(\"svg\");\r\n                 //  var chart = group\r\n\r\n                    var arc = d3.arc()\r\n                    .innerRadius(radius)\r\n                    .outerRadius(radius-8);  //8\r\n\r\n                    var pie = d3.pie()\r\n                        .sort(null)\r\n                        .startAngle(1.1*Math.PI)\r\n                        .endAngle(3.1*Math.PI)\r\n                        .value(function(d) { return d.value });\r\n\r\n                     var mouseover = function(d) {\r\n                      // console.log(Tooltip);\r\n                      // console.log(container.current)\r\n                      Tooltip\r\n                        .style(\"opacity\", 1)\r\n                    }\r\n\r\n                    var mousemove = function(d) {\r\n                      // console.log(d3.event)\r\n                      //console.log(d.value)\r\n                      Tooltip\r\n                        .html(d.value)\r\n                        .style(\"top\",(d3.event.offsetY)+\"px\").style(\"left\",(d3.event.offsetX)+\"px\");\r\n                    }\r\n\r\n                    var mouseleave = function(d) {\r\n                      Tooltip\r\n                        .style(\"opacity\", 0)\r\n                    }\r\n                  \r\n                  var g = chart.selectAll(\".arc\")\r\n                    .data(pie(data))\r\n                    .enter().append(\"g\")\r\n                    .attr(\"transform\",  \"translate(\"+transformx+\",\"+transformy+\")\")\r\n                    .attr(\"class\", \"arc\")\r\n                \r\n                    \r\n                    g.append(\"path\")\r\n                    .style(\"fill\",(d, i) => colors[i])\r\n                    // .on(\"mouseover\", mouseover)\r\n                    // .on(\"mousemove\", mousemove)\r\n                    // .on(\"mouseleave\", mouseleave)\r\n                    .transition().delay(function(d, i) { return i * 200; }).duration(500)\r\n                    .attrTween('d', function(d) {\r\n                        var i = d3.interpolate(d.startAngle+0.0, d.endAngle);\r\n                        return function(t) {\r\n                            d.endAngle = i(t);\r\n                          return arc(d);\r\n                        }\r\n                      \r\n                  });\r\n\r\n                  var total = d3.sum(data, d => d.value)\r\n\r\n                  g.append(\"text\")\r\n                  // .attr(\"dx\", function(d){return -20})\r\n                  .text(function(){return nFormatter(total)})\r\n                  .attr('text-anchor', 'middle')\r\n                  .style('fill','#333f48')\r\n                  .style('color','#333f48') \r\n                  .style('font-weight', '500')\r\n                  .attr('y', radius * 0.16)\r\n                  .style(\"font-size\", totalFontSize)\r\n                  //.style(\"stroke\", \"black\")\r\n                  // .style(\"stroke-width\", \"4\")\r\n                   \r\n      \r\n//https://d3-graph-gallery.com/graph/interactivity_tooltip.html\r\n                      \r\n                         \r\n      }\r\n        \r\n  }, [data,container]); \r\n\r\n\r\n\r\n  return container;\r\n};\r\n","import React, { useRef, useEffect, useMemo, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst margin = { top: 20, right: 10, bottom: 20, left: 20 };\r\n\r\nconst Line = ({\r\n  data,\r\n  width,\r\n  height,\r\n  refLine,\r\n  title,\r\n  upperTarget,\r\n  lowerTarget,\r\n  colorTheme = \"black\",\r\n  //colorTheme,\r\n}) => {\r\n  \r\n  const [d3Data, setD3Data] = useState({});\r\n\r\n  const yAxisRef = useRef();\r\n  const xAxisRef = useRef();\r\n  const svgRef = useRef();\r\n  const lineRef = useRef();\r\n  const refLineRef = useRef();\r\n  const circleRef = useRef();\r\n\r\n  const urlRoot = window.location.href.slice(\r\n    0,\r\n    window.location.href.lastIndexOf(\"/\")\r\n  );\r\n\r\n  useEffect(() => {\r\n    let debug = false;\r\n    const referenceLineData = refLine ? [upperTarget, lowerTarget] : null;\r\n\r\n    if(debug)\r\n    console.debug(\"reflineData\",referenceLineData);\r\n    \r\n    const latestPointData = refLine ? data[data.length - 1] : null;\r\n\r\n    if(debug)\r\n    console.log(\"last DataPoint\",latestPointData);\r\n    \r\n\r\n    const refLineMax = refLine ? d3.max(referenceLineData) : null;\r\n    const refLineMin = refLine ? d3.min(referenceLineData) : null;\r\n\r\n    setD3Data({\r\n      referenceLineData: referenceLineData,\r\n      latestPointData: latestPointData,\r\n      refLineMax: refLineMax,\r\n      refLineMin: refLineMin,\r\n      data: data,\r\n    });\r\n  }, [data, refLine, upperTarget, lowerTarget]);\r\n\r\n  const xScale = useMemo(() => {\r\n    if (width !== undefined) {\r\n      var x = d3\r\n        .scalePoint()\r\n        .domain([...d3Data.data.map((d) => d[1].qNum)])\r\n        .range([margin.left, width - margin.right]);\r\n\r\n      return x;\r\n    }\r\n  }, [width, d3Data.data]);\r\n  const yScale = useMemo(() => {\r\n    if (height !== undefined) {\r\n      var yMax = d3.max(d3Data.data, (d) => d[2].qNum + 1);\r\n      var yMin = d3.min(d3Data.data, (d) => d[2].qNum);\r\n      var y = d3\r\n        .scaleLinear()\r\n        .domain([Math.min(yMin, 0), (d3Data.referenceLineData && d3Data.referenceLineData[0] > yMax ) ? d3Data.referenceLineData[0] + 1 : yMax])\r\n        .range([height - margin.bottom, margin.top]);\r\n\r\n      return y;\r\n    }\r\n  }, [height, d3Data.data, d3Data.referenceLineData]);\r\n\r\n  useEffect(() => {\r\n    if (width && height !== 0) {\r\n      var xMin = d3.min(d3Data.data, (d) => d[1].qNum);\r\n\r\n      var xAxis = d3.axisBottom(xScale);\r\n      var yAxis = d3.axisLeft(yScale).ticks(5);\r\n\r\n      //line\r\n      const lineFunction = d3\r\n        .line()\r\n        .x((d, i) => xScale(d[1].qNum))\r\n        .y((d, i) => yScale(d[2].qNum));\r\n\r\n      const gPath = d3\r\n        .select(lineRef.current)\r\n        .selectAll(\".lineSVG\")\r\n        .data([d3Data.data]);\r\n\r\n      gPath.exit().remove();\r\n\r\n      gPath\r\n        .enter()\r\n        .append(\"path\")\r\n        .attr(\"stroke-width\", 2)\r\n       .attr(\"stroke\", \"#ff6a00\") //orange\r\n       // .attr(\"stroke\", \"#F04187\") // megenta\r\n      //  .attr(\"stroke\", \"#FF7675\") // red\r\n\r\n        .attr(\"fill\", \"none\")\r\n        .merge(gPath)\r\n        .classed(\"lineSVG\", true)\r\n        .attr(\"d\", lineFunction);\r\n\r\n      //ref line\r\n      if (refLine) {\r\n        const gRefline = d3\r\n          .select(refLineRef.current)\r\n          .selectAll(\".refLine\")\r\n          .data(d3Data.referenceLineData);\r\n        gRefline.exit().remove();\r\n        gRefline\r\n          .enter()\r\n          .append(\"line\")\r\n          .attr(\"stroke-width\", 2)\r\n          .attr(\"stroke\", colorTheme)\r\n          .classed(\"refLine\", true)\r\n          .merge(gRefline)\r\n          .attr(\"x1\", xScale(xMin))\r\n          .attr(\"x2\", width)\r\n          .attr(\"y1\", yScale(d3Data.referenceLineData[0]))\r\n          .attr(\"y2\", yScale(d3Data.referenceLineData[0]));\r\n\r\n        d3.select(refLineRef.current)\r\n          .append(\"line\")\r\n          .attr(\"stroke-width\", 2)\r\n          .attr(\"stroke\", colorTheme)\r\n          .merge(gRefline)\r\n          .classed(\"refLine\", true)\r\n          .attr(\"x1\", xScale(xMin))\r\n          .attr(\"x2\", width)\r\n          .attr(\"y1\", yScale(d3Data.referenceLineData[1]))\r\n          .attr(\"y2\", yScale(d3Data.referenceLineData[1]));\r\n      }\r\n\r\n      //symbols\r\n      const gSymbol = d3\r\n        .select(circleRef.current)\r\n        .selectAll(\".circle\")\r\n        .data(d3Data.data);\r\n\r\n      gSymbol.exit().remove();\r\n\r\n      gSymbol\r\n        .enter()\r\n        .append(\"circle\")\r\n        .attr(\"stroke\", \"#ff6a00\")\r\n        .attr(\"fill\", \"#ff6a00\")\r\n        // .attr(\"stroke\", \"#F04187\") // megenta\r\n        // .attr(\"fill\", \"#F04187\") //megenta\r\n        // .attr(\"stroke\", \"#FF7675\") // red\r\n        // .attr(\"fill\", \"#FF7675\")//red\r\n        .attr(\"stroke-width\", 2)\r\n        .attr(\"r\", 3)\r\n        .merge(gSymbol)\r\n        .classed(\"circle\", true)\r\n        .attr(\"opacity\", (d) => {\r\n          if (d[2].qNum === \"NaN\") {\r\n            return \"0\";\r\n          } else {\r\n            return \"1\";\r\n          }\r\n        })\r\n        .attr(\"cx\", (d) => xScale(d[1].qNum))\r\n        .attr(\"cy\", (d) => yScale(d[2].qNum));\r\n      //image !\r\n      if (\r\n        (refLine === true &&\r\n          d3Data.latestPointData[2].qNum > d3Data.refLineMax) ||\r\n        (refLine === true && d3Data.latestPointData[2].qNum < d3Data.refLineMin)\r\n      ) {\r\n        const gWarningImage = d3\r\n          .select(svgRef.current)\r\n          .selectAll(\".warning_image\")\r\n          .data(d3Data.latestPointData);\r\n\r\n        gWarningImage.exit().remove();\r\n\r\n        gWarningImage\r\n          .enter()\r\n          .append(\"image\")\r\n          .attr(\"xlink:href\", `${urlRoot}/images/mark-warning.svg`)\r\n          .attr(\"width\", 20)\r\n          .attr(\"height\", 28.5)\r\n          .merge(gWarningImage)\r\n          .attr(\"x\", xScale(d3Data.latestPointData[1].qNum) - 10)\r\n          .attr(\"y\", () => {\r\n            if (d3Data.latestPointData[2].qNum > d3Data.refLineMax) {\r\n              return yScale(d3Data.latestPointData[2].qNum) + 5;\r\n            } else return yScale(d3Data.latestPointData[2].qNum) - 35;\r\n          })\r\n          .classed(\"warning_image\", true);\r\n\r\n        const gText = d3\r\n          .select(svgRef.current)\r\n          .selectAll(\".warning_text\")\r\n          .data(d3Data.latestPointData);\r\n\r\n        gText.exit().remove();\r\n\r\n        gText\r\n          .enter()\r\n          .append(\"text\")\r\n          .text(`${d3Data.latestPointData[2].qNum}`)\r\n          .attr(\"font-size\", \"15px\")\r\n          .attr(\"font-weight\", \"bold\")\r\n          .attr(\"stroke\", \"black\")\r\n          .attr(\"stroke-width\", \"0.2px\")\r\n          .merge(gText)\r\n          .attr(\"x\", xScale(d3Data.latestPointData[1].qNum) - 30)\r\n          .attr(\"y\", () => {\r\n            if (d3Data.latestPointData[2].qNum > d3Data.refLineMax) {\r\n              return yScale(d3Data.latestPointData[2].qNum) + 25;\r\n            } else return yScale(d3Data.latestPointData[2].qNum) - 15;\r\n          })\r\n          .attr(\"fill\", colorTheme)\r\n          .classed(\"warning_text\", true);\r\n      }\r\n      //axis\r\n      d3.select(xAxisRef.current)\r\n        .call(xAxis)\r\n        .attr(\"transform\", `translate(0,${height - margin.bottom})`);\r\n\r\n      d3.select(yAxisRef.current)\r\n        .call(yAxis)\r\n        .attr(\"transform\", `translate(${margin.left}, 0)`);\r\n\r\n      d3.select(yAxisRef.current)\r\n        .selectAll(\"line\")\r\n        .attr(\"x2\", width - margin.left)\r\n        .attr(\"stroke-dasharray\", \"2.2\");\r\n    }\r\n  }, [d3Data, refLine, width, height, urlRoot, colorTheme, xScale, yScale]);\r\n  return (\r\n    <div className=\"d3-line-container\">\r\n       <div className=\"utilization_container\">\r\n            <div style={{ height: \"10%\" }} className={`subtitle`}>\r\n              {title}\r\n            </div>\r\n            <svg\r\n              ref={svgRef}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n              }}\r\n              className=\"svg\"\r\n            >\r\n              <g ref={yAxisRef} className=\"yAxis\"></g>\r\n              <g ref={xAxisRef} className=\"xAxis\"></g>\r\n              <g ref={lineRef} className=\"lineG\"></g>\r\n              <g ref={refLineRef} className=\"refLineG\"></g>\r\n              <g ref={circleRef} className=\"circleG\"></g>\r\n            </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Line;\r\n","\r\nimport { isNull } from \"lodash\";\r\nimport React, { useCallback, useRef } from \"react\";\r\nimport { useHyperCubeData, useChartSpec } from \"../../hooks/index\";\r\nimport Line from \"./line\";\r\nimport \"./style.css\";\r\nimport { colorTheme } from \"../../components/index\";\r\n\r\n//export default ({ qDef: objDef,style = { width: \"100%\" }, colorTheme }) => {\r\n  export default ({ qDef: objDef}) => {\r\n//  console.log(\"Line qDef\",objDef);\r\n const style = { width: \"100%\" }\r\n//  console.log(\"colorTheme\",colorTheme);\r\n// const colorTheme =\"black\";\r\nvar debug = false;\r\n\r\n let row = objDef.filter((item)=> !isNaN(parseInt(item[15].qText))) // to eliminate week NUll - \r\n .map((items)=>{\r\n  return {pos:items[1].qText, //\r\n          kpi_Val_type:items[4].qText,\r\n          title:items[3].qText,\r\n        //  val:items[12].qText,  //local value\r\n        val:items[16].qText,      //value\r\n          f_val:items[13].qText, //f_val\r\n          lbl:items[14].qText,\r\n          week: parseInt( items[15].qText),  //isNaN(items[15].qText)?0:\r\n        }\r\n  });\r\n  \r\n  if(debug){\r\n     // console.log(\"row\",row);\r\n      if(row.length<3)\r\n      console.error(\"Custom error\", row);\r\n      console.table(row);\r\n  }\r\n\r\n  const def = {\r\n    qInfo: {\r\n      qType: \"Line Chart\",\r\n    },\r\n    qHyperCubeDef: {\r\n      qDimensions: [\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"quarter\"],\r\n            qSortCriterias: [\r\n              {\r\n                qSortByAscii: -1,\r\n              },\r\n            ],\r\n          }\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"week_of_quarter\"],\r\n            qSortCriterias: [\r\n              {\r\n                qSortByAscii: 1,\r\n              },\r\n            ],\r\n        \r\n          }\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"position\"],\r\n          }\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"kpi_value_type\"],\r\n          }\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"kpi_label\"],\r\n          }\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"value\"],\r\n          },\r\n        },\r\n      ],\r\n      qMeasures: [\r\n      ],\r\n      qInitialDataFetch: [{ qWidth: 6, qHeight: 10000 / 6 }],\r\n    },\r\n  };\r\n\r\n  const { data = {} } = useHyperCubeData({\r\n    def,\r\n    dataTransformFunc: useCallback((qHyperCube) => {\r\n      return qHyperCube.qDataPages[0].qMatrix.map(function(item) {\r\n        return { \"quarter\":item[0].qText, \r\n                \"week\":item[1].qText, \r\n                \"pos\": item[2].qText, \r\n                \"kpi_value_type\" :item[3].qText, \r\n                \"lbl\" :item[4].qText, \r\n                \"val\": item[5].qText};\r\n       });\r\n    }, []),\r\n  });\r\n  \r\n\r\n//  var lines = row.map(function(r){\r\n//  let point = [{\"qNum\": parseInt(r.val)},{\"qNum\":parseInt(r.week) },{\"qNum\":parseInt(r.val)}]\r\n//   return point;\r\n//  })  \r\n\r\n var lines = null;\r\n var refLine = false;\r\nif(data && row.length){\r\n\r\n  if(debug){\r\n    // console.debug(\"data\",data); \r\n    // console.debug(\"lineData\",lineData);\r\n    }\r\n\r\n    \r\n  //(item)=> item.week !== \"-\"? !isNaN(item.week):true\r\n // (item)=>item.kpi_value_type=='ACTUAL'\r\n    lines = data.filter((item)=> item.week !== \"-\"? !isNaN(item.week):true)\r\n    .filter((item)=> item.pos === row[0].pos)\r\n    .filter((item)=>(item.kpi_value_type).toUpperCase()==='ACTUAL')\r\n    .map(function(r){ return  [{\"qNum\": parseInt(r.val)},{\"qNum\":parseInt(r.week) },{\"qNum\":parseInt(r.val)}];\r\n  });\r\n  \r\n  var lineData= {\r\n    title: row.find(o => (o.kpi_Val_type).toUpperCase() === 'ACTUAL').lbl,\r\n    lineChart:lines,\r\n    upperTarget: data.filter((item)=>(item.kpi_value_type).toUpperCase()==='UPPER TARGET').length ? data.filter((item)=>(item.kpi_value_type).toUpperCase()==='UPPER TARGET')[0].val:null,\r\n    lowerTarget: data.filter((item)=>(item.kpi_value_type).toUpperCase()==='LOWER TARGET').length ? data.filter((item)=>(item.kpi_value_type).toUpperCase()==='LOWER TARGET')[0].val:null ,\r\n  };\r\n\r\n  if(debug)\r\n  console.log(lineData)\r\n\r\n refLine = isNull(lineData.upperTarget)?false: isNull(lineData.lowerTarget)?false:true;\r\n//  refLine = isNull(lineData.upperTarget)?false: isNull(lineData.lowerTarget)?false:true;\r\n//  console.log(refLine)\r\n}\r\n\r\n\r\n\r\n//set state with chart width\r\n  const lineChartRef = useRef();\r\n  const { width, height } = useChartSpec(lineChartRef, data);\r\n// console.log(\"chart spec\",width, height)\r\n\r\nlet message = { \r\n  height:document.getElementById('root').clientHeight,\r\n  rows:\"dummy\",\r\n  tabName:\"dummy\"\r\n}\r\n\r\nif(message.height!==\"undefined\" ){\r\n//  console.log(\"*Height info from line:\",message);\r\n  window.parent.postMessage(message,\"*\");\r\n}\r\n\r\n  if (data !== null) {\r\n    return (\r\n      <div style={style} ref={lineChartRef}>\r\n        <Line\r\n          title={lineData.title}\r\n          data={lineData.lineChart}\r\n          upperTarget={lineData.upperTarget}\r\n          lowerTarget={lineData.lowerTarget}\r\n          width={width}\r\n          height={height}\r\n          refLine={refLine}\r\n          colorTheme={colorTheme.refLines}\r\n        />\r\n      </div>\r\n    );\r\n  } else return <div   style={{ color: \"black\" }}> Loading...</div>;\r\n};\r\n","import React, { useRef, useEffect, useState, useMemo } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { endsWith, floor } from \"lodash\";\r\n\r\nconst margin = { top: 10, right: 15, bottom: 30, left: 10 };\r\n\r\nconst Bar = ({\r\n  value,\r\n  target,\r\n  targetRounded,\r\n  tierName,\r\n  currency,\r\n  title,\r\n  width,\r\n  height,\r\n}) => {\r\n  const xAxisRef = useRef();\r\n  const rectRef = useRef();\r\n  const lineRef = useRef();\r\n  const textRef = useRef();\r\n  // const [isExecded, setExeceded] = useState(false);\r\n  // const [barValue, setbarValue] = useState(value);\r\n  const [x, setx] = useState(0);\r\n\r\n  var Title_y = 40;\r\n\r\n  // if(window.innerWidth > 1400){\r\n  //   height=250;\r\n  //  // Title_y= 40;\r\n  // }\r\n  if (window.innerWidth < 1200) {\r\n    // alert(window.innerWidth)\r\n    height = 200;\r\n    //  Title_y= 40;\r\n  }\r\n  if (window.innerWidth < 1200) {\r\n    // alert(window.innerWidth)\r\n    height = 210;\r\n    //  Title_y= 40;\r\n  }\r\n  if (window.innerWidth < 769) {\r\n    // alert(window.innerWidth)\r\n    height = 170;\r\n    Title_y = 15;\r\n  }\r\n\r\n  const xMaxlimit = d3.max([\r\n    Number(value) > Number(target) ? Number(value) : Number(target),\r\n  ]);\r\n\r\n  const xScale = useMemo(() => {\r\n    if (width !== undefined) {\r\n      //const xMaxlimit = d3.max([barValue, target]);\r\n\r\n      // const xMaxlimit = d3.max([\r\n      //   Number(value) > Number(target) ? Number(value) : Number(target),\r\n      // ]);\r\n\r\n      // console.log(\"barValue\", value);\r\n      // console.log(\"xMaxlimit\", xMaxlimit);\r\n\r\n      //const xMax = xMaxlimit * 1.2;\r\n      //if target is grater than 1 million change the max value\r\n      //  const xxMax = (target > 1000000)? xMax * 2 : xMax * 1.2;\r\n      // const xMax =(target > 10000000)? xMaxlimit * 20 : xMaxlimit * 2;\r\n      // const xMax =\r\n      //   target > 1000000\r\n      //     ? target > 10000000\r\n      //       ? xMaxlimit * 20\r\n      //       : xMaxlimit * 2\r\n      //     : xMaxlimit * 1.2;\r\n\r\n      const xMax = target > xMaxlimit ? xMaxlimit * 2 : xMaxlimit;\r\n\r\n      // console.log(\"xMax\", xMax);\r\n\r\n      const x = d3\r\n        .scaleLinear()\r\n        // .domain([0, xMaxlimit * 1.2])\r\n        .domain([0, xMax])\r\n        .range([margin.left, width - margin.right]);\r\n\r\n      // if (barValue > xMax) {\r\n      //   if (barValue > xMax) {\r\n      //   //value = xMax;\r\n      //   setbarValue(xMax);\r\n      //   setExeceded(true);\r\n      // }\r\n\r\n      return x;\r\n    }\r\n  }, [width, value, target]);\r\n\r\n  useEffect(() => {\r\n    if (width !== undefined) {\r\n      var xAxis = d3.axisBottom(xScale).ticks(3).tickFormat(d3.format(\".2s\"));\r\n      if (window.innerWidth < 769) {\r\n        xAxis = d3.axisBottom(xScale).ticks(2).tickFormat(d3.format(\".2s\"));\r\n      }\r\n\r\n      // console.log(xAxisRef.current);\r\n      d3.select(xAxisRef.current).call(xAxis);\r\n    }\r\n  }, [xScale, width]);\r\n\r\n  function kFormatter(number) {\r\n    //  console.log(\"number\", number);\r\n    // return Math.abs(number) > 999\r\n    //   ? Math.sign(number) * (Math.abs(number) / 1000).toFixed(1) + \"k\"\r\n    //   : Math.sign(num) * Math.abs(num);\r\n    if (number < 1000) {\r\n      return number;\r\n    } else if (number >= 1000 && number < 1_000_000) {\r\n      return (number / 1000).toFixed(1) + \"K\";\r\n    } else if (number >= 1_000_000 && number < 1_000_000_000) {\r\n      return (number / 1_000_000).toFixed(1) + \"M\";\r\n    } else if (number >= 1_000_000_000 && number < 1_000_000_000_000) {\r\n      return (number / 1_000_000_000).toFixed(1) + \"B\";\r\n    } else if (number >= 1_000_000_000_000 && number < 1_000_000_000_000_000) {\r\n      return (number / 1_000_000_000_000).toFixed(1) + \"T\";\r\n    }\r\n  }\r\n\r\n  var lblValueXScale = 0;\r\n  if (xScale && xMaxlimit) {\r\n    // console.log(\"---\");\r\n    // console.log(\"Target\", target);\r\n    // console.log(\"barValue\", value);\r\n    // console.log(\"xMaxlimit\", xMaxlimit);\r\n    // console.log(\"diff\", target - value);\r\n\r\n    // console.log(\"x\", xScale(value) - margin.left * 0.8);\r\n    // console.log(\"lne x\", xScale(target));\r\n    // console.log(\"d\", xScale(value) - margin.left * 0.8 - xScale(target));\r\n\r\n    //difference between the refline(target) x and the value\r\n    var xScaleDif = Math.abs(\r\n      xScale(value) - margin.left * 0.8 - xScale(target)\r\n    );\r\n    //console.log(xScaleDif);\r\n\r\n    lblValueXScale = xScale(value) - margin.left * 0.8;\r\n    // lblValueXScale = margin.right;\r\n\r\n    if (xScaleDif < 50) {\r\n      lblValueXScale = margin.right;\r\n      //lblValueXScale = xScale(target);\r\n    }\r\n    if (target - value == 0) {\r\n      // lblValueXScale = xScale(value) / 3;\r\n      lblValueXScale = xScale(value) - margin.left * 0.8;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <svg\r\n        width={\"90%\"}\r\n        height={height}\r\n        className=\"svg\"\r\n        style={{\r\n          overflow: \"visible\",\r\n          color: \"black\",\r\n          paddingLeft: \"10px\",\r\n          paddingTop: \"10px\",\r\n        }}\r\n      >\r\n        {/* titles */}\r\n        <g ref={textRef} className=\"textContainer\">\r\n          {width !== undefined && width > 0 ? (\r\n            <text\r\n              // x={xScale(target) - 70}\r\n              y={height / 3 - 10}\r\n              fill=\"black\"\r\n              className=\"subtitle\"\r\n            >\r\n              {tierName} ({targetRounded})\r\n            </text>\r\n          ) : null}\r\n        </g>\r\n\r\n        {/* subtitle */}\r\n        <g>\r\n          {width !== undefined && width > 0 ? (\r\n            <text y={Title_y} fill=\"black\" className=\"subtitle\">\r\n              {title}\r\n            </text>\r\n          ) : null}\r\n        </g>\r\n\r\n        {/* scale */}\r\n        <g\r\n          ref={xAxisRef}\r\n          className=\"xAxisContainer\"\r\n          transform={`translate(0, ${height / 1.5})`}\r\n        />\r\n\r\n        {/* rect */}\r\n        {width !== undefined && width > 0 ? (\r\n          <g\r\n            className=\"rectContainer\"\r\n            ref={rectRef}\r\n            transform={`translate(${margin.left}, ${height / 2.5} )`}\r\n          >\r\n            <rect\r\n              ref={rectRef}\r\n              width={xScale(value) - margin.left}\r\n              height={height / 4}\r\n              className=\"rect\"\r\n              fill={\"#ff6a00\"} //orange\r\n            />\r\n            <text\r\n              y={height / 7}\r\n              x={lblValueXScale}\r\n              fill=\"black\"\r\n              className=\"subtitle\"\r\n            >\r\n              {kFormatter(Math.trunc(value))}\r\n            </text>\r\n            <text\r\n              y={height / 5}\r\n              x={lblValueXScale}\r\n              fill=\"black\"\r\n              className=\"subtitle\"\r\n            >\r\n              {currency}\r\n            </text>\r\n          </g>\r\n        ) : null}\r\n\r\n        {/* ref line- target */}\r\n        <g ref={lineRef} className=\"lineContainer\">\r\n          {width !== undefined && width > 0 ? (\r\n            <line\r\n              x1={xScale(target)}\r\n              x2={xScale(target)}\r\n              y1={height / 1.5}\r\n              y2={height / 2.8}\r\n              stroke=\"black\"\r\n              strokeWidth={\"3px\"}\r\n            />\r\n          ) : null}\r\n        </g>\r\n\r\n        {/* cut  */}\r\n        {/* <g>\r\n          <path\r\n            d=\"M 10 0 L 34 60\"\r\n            stroke=\"red\"\r\n            stroke-width=\"4\"\r\n            transform={`translate(${width / 1.2}, ${height / 2.5} )`}\r\n            display={isExecded ? \"block\" : \"none\"}\r\n          />\r\n        </g> */}\r\n      </svg>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Bar;\r\n","import React, { useCallback, useRef } from \"react\";\r\nimport { useHyperCubeData, useChartSpec } from \"../../hooks/index\";\r\nimport \"./style.css\";\r\n\r\nimport Bar from \"./bar\";\r\n\r\nexport default ({ qDef: objDef }) => {\r\n  // console.log(\"Bar qDef\", objDef);\r\n  var debug = false;\r\n  let row = objDef.map((items) => {\r\n    return {\r\n      pos: items[1].qText, //\r\n      kpi_Val_type: items[4].qText,\r\n      title: items[3].qText,\r\n      val: items[12].qText,\r\n      f_val: items[13].qText, //f_val\r\n      lbl: items[14].qText,\r\n    };\r\n  });\r\n\r\n  if (debug) {\r\n    console.log(row);\r\n    // if (row.length < 3) console.error(\"Custom error\", row);\r\n    // console.table(row);\r\n  }\r\n\r\n  const def = {\r\n    qInfo: {\r\n      qType: \"app data\",\r\n    },\r\n    qHyperCubeDef: {\r\n      qDimensions: [\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"Kpi_id\"],\r\n          },\r\n        },\r\n      ],\r\n      qMeasures: [],\r\n      qInitialDataFetch: [{ qWidth: 1, qHeight: 10 / 1 }],\r\n    },\r\n  };\r\n\r\n  const { data = {} } = useHyperCubeData({\r\n    def,\r\n    dataTransformFunc: useCallback((qHyperCube) => {\r\n      return qHyperCube;\r\n    }, []),\r\n  });\r\n\r\n  var barData = {\r\n    value: 1190320.0, //row.find((o) => o.kpi_Val_type === \"ACTUAL\").val,\r\n    target: row.find((o) => o.kpi_Val_type === \"TARGET\").val,\r\n    targetRounded: row.find((o) => o.kpi_Val_type === \"TARGET\").f_val,\r\n    tierName: row.find((o) => o.kpi_Val_type === \"TARGET TIER NAME\").lbl,\r\n    title: row.find((o) => o.kpi_Val_type === \"ACTUAL\").lbl,\r\n    currency: row.find((o) => o.kpi_Val_type === \"TARGET\").f_val.slice(-3),\r\n  }; //Target\r\n\r\n  if (barData) {\r\n    barData.value = isNaN(barData.value) ? 0 : barData.value;\r\n    barData.target = isNaN(barData.target) ? 0 : barData.target;\r\n  }\r\n\r\n  //return <div className=\"justify-content: space-around;\">Loading...</div>;\r\n  // barData ={\r\n  //   target: \"1090320.0\",//\"1290320.0\",\r\n  // targetRounded: \"1.3 M GBP\",\r\n  // tierName: \"Platinum\",\r\n  // title: \"Tier Progress\",\r\n  // value: \"558007.9\",\r\n  // }\r\n  if (debug) console.log(barData);\r\n\r\n  // //set state with chart width\r\n  const barChartRef = useRef();\r\n  const { width } = useChartSpec(barChartRef, data);\r\n\r\n  if (!barData) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"barChart\" ref={barChartRef}>\r\n      <Bar {...barData} title={barData.title} width={width} height={250} />\r\n    </div>\r\n  );\r\n};\r\n","import React   from \"react\";\r\nimport { useGaugeContainer } from \"../../hooks/index\";\r\nimport \"./style.css\";\r\n\r\nexport default ({ qDef: objDef }) => {\r\nvar debug = false;\r\n\r\n  let row = objDef.map((items)=>{\r\n    return { valueType:(items[4].qText).toUpperCase(),\r\n              title:items[3].qText,\r\n              val:items[12].qText,\r\n              f_val:items[13].qText,\r\n              lbl:items[14].qText}\r\n    });\r\n  \r\n   //sort rows based on the valueType - Actual in index 0 and Targer in index 1   \r\n  // var order = [\"ACTUAL\",\"TARGET\"];\r\n  //  var sorted = row.sort(function(a, b) {\r\n  //   return order.indexOf((a.valueType)) - order.indexOf((b.valueType));\r\n  //   });\r\n  \r\n    if(debug){\r\n        console.log(row);\r\n        if(row.length<2)\r\n        console.error(\"error in number of rows\", row);\r\n        console.table(row);\r\n    }\r\n\r\nconst data = {\r\n        subtitle: row.length ? row[0].lbl : \"\",  //\"QTD Top Seller\" KID\r\n        value: row.length ? row[0].f_val : \"\",  //0 qtext\r\n\r\n        note2Text :  row.length > 1 ? (isNaN(row[0].val/row[1].val) || !isFinite(row[0].val/row[1].val)) ? \"0%\" :\r\n                                         parseInt((row[0].val/row[1].val)*100) +\"%\":\"0%\", //2txt\r\n\r\n        note2Title:  row.length > 1 ? \"Target Achieved\" :\"\",  // \"Target Achieved\"\r\n\r\n        note2Value:  row.length > 1 ?  (isNaN(row[0].val/row[1].val) || !isFinite(row[0].val/row[1].val)) ?0: row[0].val/row[1].val : \"\",  //0.12442316666666667,  //2 qNum\r\n\r\n        note1Value:  row.length > 1 ? row[1].f_val : \"\", //1qtxt\r\n        note1Title : row.length > 1 ? row[1].lbl : \"\", //\"Target\"\r\n}\r\n\r\nif(debug){\r\n    console.log(\"data\", data);\r\n}\r\n  const container = useGaugeContainer(data);\r\n\r\n  if (!data) return null;\r\n  \r\n  const {\r\n    subtitle,\r\n    value,\r\n    note1Value,\r\n    note2Text,\r\n    note1Title,\r\n    note2Title,\r\n  } = data;\r\n\r\n  return (\r\n    <div className=\"circle-block circle_2\">\r\n      <div className=\"utilization_container\">\r\n        <svg viewBox=\"0 0 100 100\" height={\"100%\"} className=\"svg\">\r\n          <g className=\"background-container\" transform=\"translate(0,6)\"></g>\r\n          <g ref={container} className=\"foreground-container\" transform=\"translate(0,6)\"></g>\r\n        </svg>\r\n\r\n        <div className=\"percentage percentage2\">\r\n          <div className=\"subtitle\">{subtitle}</div>\r\n          <div className=\"display\">{value}</div>\r\n          <div className=\"note\">\r\n            {note2Text} {note2Title}\r\n          </div>\r\n\r\n          <div className=\"note\">\r\n            {note1Value} {note1Title}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n ","import { useEffect, useState } from \"react\";\r\nimport ResizeObserver from \"resize-observer-polyfill\";\r\n\r\n/**\r\n * Hook, that returns the current dimensions of an HTML element.\r\n * Doesn't play well with SVG.\r\n */\r\n\r\nconst useResizeObserver = ref => {\r\n  const [dimensions, setDimensions] = useState(null);\r\n  useEffect(() => {\r\n    const observeTarget = ref.current;\r\n    const resizeObserver = new ResizeObserver(entries => {\r\n      entries.forEach(entry => {\r\n        setDimensions(entry.contentRect);\r\n      });\r\n    });\r\n    resizeObserver.observe(observeTarget);\r\n    return () => {\r\n      resizeObserver.unobserve(observeTarget);\r\n    };\r\n  }, [ref]);\r\n  return dimensions;\r\n};\r\n\r\nexport default useResizeObserver;","import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport useResizeObserver from \"../../hooks/useResizeObserver\";\r\n\r\n/**\r\n * Component that renders a StackedBarChart\r\n */\r\n\r\nfunction LeapKpi({ data, keys, colors}) {\r\n // console.log(\"Leap\");\r\n\r\n  const svgRef = useRef();\r\n  const wrapperRef = useRef();\r\n  const dimensions = useResizeObserver(wrapperRef);\r\n\r\n  // will be called initially and on every data change\r\n  useEffect(() => {\r\n    const svg = d3.select(svgRef.current);\r\n    const { width, height } = dimensions || wrapperRef.current.getBoundingClientRect();\r\n\r\n    // stacks / layers\r\n    const stackGenerator = d3.stack()\r\n      .keys(keys)\r\n      .order(d3.stackOrderAscending);\r\n    const layers = stackGenerator(data);\r\n\r\n    const extent = [\r\n      0,\r\n        (d3.max(layers, layer => d3.max(layer, sequence => sequence[1]) * 1.40) > 0)? d3.max(layers, layer => d3.max(layer, sequence => sequence[1]) * 1.40) : 500\r\n    ];\r\n\r\n    // scales\r\n    const xScale = d3.scaleBand()\r\n      .domain(data.map(d => d.points))      \r\n      .range([0, width])\r\n      .padding(0.25);\r\n\r\n    const yScale = d3.scaleLinear()\r\n      .domain(extent)\r\n      .range([height, 0]);\r\n\r\n    // rendering\r\n    svg\r\n      .selectAll(\".layer\")\r\n      .data(layers)\r\n      .join(\"g\")\r\n      .attr(\"class\", \"layer\")\r\n      .attr(\"fill\", layer => colors[layer.key])\r\n      .selectAll(\"rect\")\r\n      .data(layer => layer)\r\n      .join(\"rect\")\r\n      .attr(\"x\", sequence => xScale(sequence.data.points))\r\n      .attr(\"width\", xScale.bandwidth())\r\n      .attr(\"y\", sequence => yScale(sequence[1]))\r\n      .attr(\"height\", sequence => yScale(isNaN(sequence[0])?0 : sequence[0]) - yScale(isNaN(sequence[1]) ?0 :sequence[1]) );\r\n\r\n    // axes\r\n    const xAxis = d3.axisBottom(xScale);\r\n    svg\r\n      .select(\".x-axis\")\r\n      .attr(\"transform\", `translate(0, ${height})`)\r\n      .call(xAxis);\r\n\r\n    const yAxis = d3.axisLeft(yScale)\r\n    .ticks(4)\r\n    .tickSize(-width,0,10).tickSizeOuter(0);        \r\n    // tickValues(yScale.ticks(2).concat(yScale.domain()));\r\n    svg.select(\".y-axis\").call(yAxis)\r\n\r\n  }, [colors, data, dimensions, keys]);  \r\n   \r\n\r\n  const values = Object.entries(colors);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div ref={wrapperRef} style={{ marginBottom: \"2rem\" }}>\r\n        <svg ref={svgRef}  height={110} style={{ marginLeft:\"20px\" }}>\r\n          <g className=\"x-axis\" />\r\n          <g className=\"y-axis\" />        \r\n        </svg>       \r\n      </div> \r\n      <div id=\"leapkpi-legend\">   \r\n      <div className=\"leapkpi-legend\">         \r\n            { \r\n            \r\n            values.map((value, index) => {\r\n              return (<React.Fragment key={index}>\r\n                {index >= 1 && <br></br>} <span className={\"key-dot\"} style={{ background: value[1] }} />  { value[0] } </React.Fragment>)                \r\n            })\r\n            }        \r\n      </div>\r\n      </div>\r\n      </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default LeapKpi;","import React from \"react\";\r\nimport LeapKpi from \"./leapkpi\";\r\nimport \"./style.css\";\r\n\r\nexport default ({ qDef: objDef }) => {\r\n// console.log(\"leapppp\")\r\n// console.log(\"leap qDef\", objDef);\r\nlet debug = false;\r\nlet row = objDef.map((items)=>{\r\n  return {pos:items[1].qText, //\r\n          kpi_Val_type:items[4].qText,\r\n          title:items[3].qText,\r\n          val:items[12].qText,\r\n          f_val:items[13].qText, //f_val\r\n          lbl:items[14].qText}\r\n  });\r\n\r\nif(debug){\r\n  console.log(row);\r\n  if(row.length<3)\r\n  console.error(\"Custom error\", row);\r\n console.table(row);\r\n}\r\n \r\n//color\r\n  let barcolors = { }\r\n  // barcolors[row[3].lbl] = \"Coral\";\r\n  // barcolors[row[4].lbl] = \"Royalblue\";\r\n  barcolors[row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 1').lbl] = \"Coral\";\r\n  barcolors[row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 2').lbl] = \"Royalblue\";\r\n\r\n//keys\r\n  var d_keys = [ row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 1').lbl, \r\n                 row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 2').lbl]\r\n//dim1\r\n  var dim1={\"points\": \"\"};\r\n  dim1.points = row.find(o => o.kpi_Val_type === 'DIM 1 LABEL').lbl;\r\n  dim1[d_keys[0]] = row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 1').f_val; //10;\r\n  dim1[d_keys[1]] = row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 2').f_val;//100;\r\n\r\n//dim2\r\nvar dim2={ \"points\": \"\"};\r\ndim2.points = row.find(o => o.kpi_Val_type === 'DIM 2 LABEL').lbl;\r\ndim2[d_keys[0]] = row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 2').val;\r\ndim2[d_keys[1]] = row.find(o => o.kpi_Val_type === 'DIM 1 VALUE 2').val;\r\n\r\nif(debug){\r\n   console.log(barcolors)\r\n  // console.log(\"dim1\",dim1)\r\n  // console.log(\"dim2\",dim2)\r\n  // console.log(\"keys\",d_keys)\r\n}\r\n\r\n  const data = { \r\n    dimention:[\r\n      dim1,dim2\r\n    ],\r\n    keys: d_keys,\r\n    colors : barcolors,\r\n    leapbartitle: row.find(o => o.kpi_Val_type === 'TITLE LABEL').lbl,\r\n    leapkpititle: row.find(o => o.kpi_Val_type === 'ACTUAL').lbl,\r\n    leapkpivalue: row.find(o => o.kpi_Val_type === 'DIM 1 LABEL').f_val\r\n  };\r\n  \r\n  if(debug){\r\n  // console.log(\"leap\", data);\r\n  }\r\n\r\n  if (!data) return <div>Loading...</div>;\r\n\r\n  const {\r\n    dimention,\r\n    keys,\r\n    colors,\r\n    leapbartitle,\r\n    leapkpititle,\r\n    leapkpivalue\r\n  } = data;\r\n  //console.log(data);\r\n //const values = Object.entries(colors);\r\n\r\n  return (\r\n    <div className=\"leapkpi\">\r\n          <div className=\"col-8 col-sm-8 col-md-8 col-lg-8\">   \r\n            <div title={leapbartitle} className={`subtitle leaptitle`}>{leapbartitle}</div>   \r\n            <LeapKpi\r\n              data={dimention}          \r\n              keys={keys}\r\n              colors={colors}              \r\n            />      \r\n          </div>\r\n          <div className=\"col-4 col-sm-4 col-md-4 col-lg-4 leapbar-kpi \">\r\n                <div className=\"leapkpi-value-section\">\r\n                  <div className={\"leapkpi-value display\"}>\r\n                    {leapkpivalue}\r\n                  </div>     \r\n                </div>\r\n                <div  title={leapkpititle} className={`subtitle`}>{leapkpititle}</div>\r\n          </div>\r\n    </div>\r\n    ); \r\n\r\n};","import React, { useState }  from \"react\";\r\nimport { FiExternalLink } from 'react-icons/fi';\r\n\r\n\r\nconst ViewMore = ({ drillDownUrl }) => {\r\n   const [iconColor, setIconColor] = useState({data:{bg:\"#F3F4F4\",color:\"#3E8DDD\"}});\r\n\r\n  return (\r\n    <a {...drillDownUrl}  style={{ textDecoration: \"none\" }}\r\n    // onMouseEnter={()=>changeState(\"#3E8DDD\")}\r\n    target=\"_blank\">\r\n      \r\n   <div className=\"viewMore\"  style={{background:iconColor.data.bg, color:iconColor.data.color}}\r\n   onMouseEnter={()=>setIconColor( drillDownUrl.href? {data:{bg:\"#3E8DDD\",color:\"white\"}}: {data:{bg:\"#F3F4F4\",color:\"#3E8DDD\"}} )}\r\n   onMouseLeave={()=>setIconColor({data:{bg:\"#F3F4F4 \",color:\"#3E8DDD\"}})}\r\n   >\r\n    {drillDownUrl.href? \"View more\":\"\"} \r\n    {drillDownUrl.href? <FiExternalLink style={{ float:\"right\",position:\"relative\", top:\"5px\", left:\"-5px\",color:iconColor.data.color}} />:\"\"} \r\n   </div>\r\n  </a>\r\n  );\r\n};\r\nexport default ViewMore;\r\n","import React   from \"react\";\r\nimport { useDoughnutContainer } from \"../../hooks/index\";\r\nimport \"./style.css\";\r\n\r\nexport default ({ qDef: objDef  }) => {\r\n//var debug = false;\r\n\r\n// function kFormatter(num) {\r\n//   return Math.abs(num) > 999 ? Math.sign(num)*((Math.abs(num)/1000).toFixed(1)) + 'k' : Math.sign(num)*Math.abs(num)\r\n// }\r\n//console.log(\"DougnutDEf\",objDef);\r\n\r\nfunction search(nameKey, myArray){\r\n  for (var i=0; i < myArray.length; i++) {\r\n      if (myArray[i].lbl === nameKey) {\r\n          return myArray[i];\r\n      }\r\n  }\r\n}\r\n\r\nlet DataRows = objDef.map((items)=>{\r\n  return { valueType:(items[4].qText).toUpperCase(),\r\n            title:items[3].qText,\r\n            val:items[12].qNum,\r\n            f_val:items[13].qText,\r\n            lbl:items[14].qText === \"IDG\"?\"PCSD\":items[14].qText}  \r\n  });\r\n\r\n  //console.log(\"Dougnut\",DataRows); \r\n\r\nlet row = [];  \r\nlet chartTitle = DataRows[0].title.split(\"IDG\");\r\nlet currency_abb = DataRows[0].f_val.substr(DataRows[0].f_val.length - 3);\r\nvar chartColors = [\"#FF7675\",\"#8246AF\",\"#F04187\"];\r\n\r\n  row[0] = search(\"PCSD\", DataRows) ? search(\"PCSD\", DataRows) : {f_val: \"0.0 \" + currency_abb, lbl: \"PCSD\", title: null, val: 0, valueType: \"ACTUAL\" };\r\n  row[1] = search(\"ISG\", DataRows) ? search(\"ISG\", DataRows) : {f_val: \"0.0 \" + currency_abb , lbl: \"ISG\", title: null, val: 0, valueType: \"ACTUAL\" };\r\n  row[2] = search(\"Services\", DataRows) ? search(\"Services\", DataRows) : {f_val: \"0.0 \" + currency_abb, lbl: \"Services\", title: null, val: 0, valueType: \"ACTUAL\" };\r\n  \r\n//console.log(\"chk\", row);\r\n\r\nfunction nFormatter(num) {\r\n  if (num >= 999999999) {\r\n     return ((Math.abs(num) / 1000000000).toFixed(1) + 'B');\r\n  }\r\n  if (num >= 999999) {\r\n   return  ((Math.abs(num) / 1000000).toFixed(1) + 'M');\r\n  }\r\n  if (num >= 999) {\r\n     return ((Math.abs(num) / 1000).toFixed(1) + 'K');\r\n  }\r\n  return Math.sign(num)*Math.abs(num);\r\n}\r\n\r\n\r\n// var currency_symbols = {\r\n//   'USD': '$', // US Dollar\r\n//   'EUR': '', // Euro\r\n//   'CRC': '', // Costa Rican Coln\r\n//   'GBP': '', // British Pound Sterling\r\n//   'ILS': '', // Israeli New Sheqel\r\n//   'INR': '', // Indian Rupee\r\n//   'JPY': '', // Japanese Yen\r\n//   'KRW': '', // South Korean Won\r\n//   'NGN': '', // Nigerian Naira\r\n//   'PHP': '', // Philippine Peso\r\n//   'PLN': 'z', // Polish Zloty\r\n//   'PYG': '', // Paraguayan Guarani\r\n//   'THB': '', // Thai Baht\r\n//   'UAH': '', // Ukrainian Hryvnia\r\n//   'VND': '', // Vietnamese Dong\r\n// };\r\n\r\n\r\nconst data = {\r\n  dataPoints:[\r\n    {\r\n        \"bu\": 0,\r\n        \"value\": row[0].val,\r\n        \"f_val\": row[0].f_val,\r\n        \"lbl\": row[0].lbl,\r\n        \"color\": \"red\"\r\n    },\r\n    {\r\n        \"bu\": 1,\r\n        \"value\":row[1].val,\r\n        \"f_val\": row[1].f_val,\r\n        \"lbl\": row[1].lbl,\r\n        \"color\":\"blue\"\r\n    },\r\n    {\r\n      \"bu\": 2,\r\n      \"value\": row[2].val,\r\n      \"f_val\":  row[2].f_val,\r\n      \"lbl\": row[2].lbl,\r\n      \"color\":\"green\"\r\n  },\r\n  \r\n],\r\ntitle: chartTitle, //row[0].title.split(row.[0].lbl),\r\ntotal: row[0].val + row[1].val + row[2].val\r\n}\r\n\r\nconst container = useDoughnutContainer(data.dataPoints);\r\n  \r\n  if (!data) return null;\r\n\r\n  const {\r\n     dataPoints,\r\n     title\r\n  } = data;\r\n\r\n  return (\r\n    <div className=\"donut-block\">\r\n    <div className=\"doughnut-title\">{title}</div>\r\n      <div ref={container}  className=\"utilization_container\">\r\n        <div className=\"toolTipContainer\"></div>\r\n        <svg viewBox=\"0 0 100 100\" className=\"svg\">\r\n          <g className=\"foreground-container\">\r\n          </g>\r\n        </svg>\r\n\r\n        {/* <div className=\"total midpoint\">\r\n          <div className=\"subtitle\">{ nFormatter(total===7540?1854:total)}</div>\r\n      \r\n        </div> */}\r\n        <div className=\"donut-legend\">\r\n     \r\n     \r\n        <div className=\"subtitle legend\">\r\n                  <span className=\"box\" style={{backgroundColor:chartColors[0]}}></span>\r\n                 \r\n                      <span className=\"lbl\">{dataPoints[0].lbl}</span>\r\n                      <span className=\"val\">{dataPoints[0].f_val}</span>\r\n       </div>\r\n        <div className=\"subtitle legend\">\r\n                    <span className=\"box\" style={{backgroundColor:chartColors[1]}}></span>\r\n                   \r\n                        <span className=\"lbl\">{dataPoints[1].lbl}</span>\r\n                        <span className=\"val\">{dataPoints[1].f_val}</span> \r\n          </div>\r\n          {/* {region!==\"EMEA\"?null:(   */}\r\n          <div className=\"subtitle legend\" >\r\n                    <span className=\"box\" style={{backgroundColor:chartColors[2]}}></span>\r\n                   \r\n                        <span className=\"lbl\">{dataPoints[2].lbl}</span>\r\n                        <span className=\"val\">{dataPoints[2].f_val}</span> \r\n          </div>\r\n          {/* )} */}\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","\r\nexport default () => {\r\n\r\n    const colorTheme = {reffLines:\"black\", chartPrimaryColor:\"#ff6a00\" };\r\n\r\n    return colorTheme\r\n}","export const drillDownMappingException = [\r\n  \"DCG-BR-9\",\r\n  \"DCG-EMEA-9\",\r\n  \"DCG-LAS-9\",\r\n  \"DCG-NA-9\",\r\n  \"PCSD-AP-14\",\r\n  \"PCSD-BR-14\",\r\n  \"PCSD-EMEA-14\",\r\n  \"PCSD-LAS-14\",\r\n  \"PCSD-NA-14\",\r\n  \"DCG-BR-10\",\r\n  \"DCG-EMEA-10\",\r\n  \"DCG-LAS-10\",\r\n  \"DCG-NA-10\",\r\n  \"PCSD-AP-15\",\r\n  \"PCSD-BR-15\",\r\n  \"PCSD-EMEA-15\",\r\n  \"PCSD-LAS-15\",\r\n  \"PCSD-NA-15\",\r\n];\r\nexport default drillDownMappingException;\r\n","import _ from \"lodash\";\r\n\r\nexport const regions = {\r\n    \"BR\":true,\r\n    \"EMEA\":true,\r\n    \"LAS\":true,\r\n    \"NA\":true,\r\n    \"AP\":true,\r\n };\r\n\r\n /*return only true regions from array \r\nuse keys and picky by function by lodash */\r\nexport default _.keys(_.pickBy(regions));;","import drillDownMappingException from \"./mappingTables/drillDownMappingException\";\r\nimport regions from \"./mappingTables/regions\";\r\n\r\n// FOR create dynamic URL generation for All KPI Object\r\nconst DrillDownUrl = (qDef, sheetData) => {\r\n  var debug = false;\r\n  if (debug) {\r\n    console.log(\"sheetDat\", sheetData);\r\n    // console.log(\"Object GEO ID\", qDef[6].qText);\r\n    console.log(\"chart def\", qDef);\r\n  }\r\n\r\n  //var digits = () => Math.floor(Math.random() * 9000000000) + 1000000000;\r\n  let drillDownUrl = \"\";\r\n\r\n  if (qDef && qDef[6] && qDef[7] && qDef[8]) {\r\n    if (regions.includes(qDef[7].qText) && sheetData) {\r\n      // AS per custum requirement Region= EMEA and persona_type != ADMIN and bp_type !=='sales' has no url\r\n      // if (qDef[7].qText === 'EMEA' && qDef[8].qText !== 'Admin' && qDef[9].qText !== 'Sales') {\r\n      //   return {};\r\n      // }\r\n\r\n      // No Drilldown for bp_type \"Authorized\" OR \"Non Main Branch\"\r\n      if (\r\n        qDef[7].qText === \"EMEA\" &&\r\n        qDef[9] &&\r\n        (qDef[9].qText === \"Authorized\" || qDef[9].qText === \"Non Main Branch\")\r\n      ) {\r\n        return {};\r\n      }\r\n\r\n      // CR160 : No URl for \"Non Main Branch\" bp_type and bp_type_mapped\r\n      if (\r\n        qDef[7].qText === \"EMEA\" &&\r\n        qDef[8].qText === \"Admin\" &&\r\n        qDef[9].qText === \"Non Main Branch\" &&\r\n        qDef[10].qText === \"Non Main Branch\"\r\n      ) {\r\n        return {};\r\n      }\r\n\r\n      //Check if GEO_Object_Id of the chart is mapped with any sheet by its description\r\n      //return the details required to generate the drilldown URL\r\n      const drilldownAppData = sheetData.filter((sheet) => {\r\n        const desc = sheet.description.split(\"|\").map((item) => item.trim());\r\n        // if (debug) {\r\n        //   console.log(desc);\r\n        // }\r\n        return desc.includes(qDef[6].qText);\r\n      });\r\n\r\n      /* Few GEO_Object_Id has to redirect seprate portal\r\n        https://lbp-uat.lenovo.com , need to discuss and for proper URL generation\r\n      */\r\n      if (drilldownAppData.length) {\r\n        if (debug) console.log(\"drilldownAppData\", drilldownAppData);\r\n\r\n        //const appendUrl = `?appid=${drilldownAppData[0].app.id}&sheet=${drilldownAppData[0].engineObjectId}&opt=currsel%2Cnoanimate%2Cctxmenu&identity=${digits()}`;\r\n        // console.log(appendUrl);\r\n        if (!drillDownMappingException.includes(qDef[6].qText)) {\r\n          // drillDownUrl = `https://lbp.lenovo.com/${appendUrl}`;\r\n          drillDownUrl = `https://${drilldownAppData[0].tenant}/sense/app/${drilldownAppData[0].app.id}/sheet/${drilldownAppData[0].engineObjectId}/state/analysis/options/clearselections/theme/light`;\r\n        } else {\r\n          // drillDownUrl = `https://lenovo-lph-ai.us.qlikcloud.com/single/${appendUrl}`;\r\n          drillDownUrl = `https://${drilldownAppData[0].tenant}/sense/app/${drilldownAppData[0].app.id}/state/analysis/options/clearselections/theme/light`;\r\n        }\r\n      } else {\r\n        if (debug)\r\n          console.log(\r\n            \"No Match found- no sheets mapped with this GEO_Object_Id -\" +\r\n              qDef[6].qText\r\n          );\r\n      }\r\n    }\r\n  }\r\n  const attributes = drillDownUrl ? { href: drillDownUrl } : {};\r\n  return attributes;\r\n};\r\n\r\nexport default DrillDownUrl;\r\n","import React, { useMemo, useCallback, useRef } from \"react\";\r\nimport { Gauge, Kpi, Line, LeapKpi, Bar, Doughnut } from \"../components\";\r\nimport { usePageData } from \"../hooks/index\";\r\nimport PlaceHolder from \"../components/PlaceHolder\";\r\nimport DrillDownUrl from \"../DrillDownUrl\";\r\nimport { isNull, iteratee } from \"lodash\";\r\nimport ViewMore from \"../components/ViewMore\";\r\nimport { groupBy as lodashGroupBy } from \"lodash\";\r\nimport { sortBy as lodashsortBy } from \"lodash\";\r\n\r\nconst Page = ({\r\n  data,\r\n  sheetData,\r\n  activeSubTab,\r\n  activePrimaryTabName,\r\n  sortOrderInfo,\r\n}) => {\r\n  const dubugger = false;\r\n  //console.log(\"tab change triggered\", activeSubTab);\r\n  //console.log(\"data\", data);\r\n  // console.log(\"Sheet data\",sheetData)\r\n\r\n  const {\r\n    groupedKpis,\r\n    groupedGauges,\r\n    groupedLines,\r\n    groupedBars,\r\n    groupedLeaps,\r\n    groupedDoughnut,\r\n  } = usePageData(data, activeSubTab);\r\n\r\n  function getRowTitles(activeSubTab, region, qDef) {\r\n    return qDef[0][17].qText ? qDef[0][17].qText : null;\r\n  }\r\n\r\n  //sortOrderInfo\r\n  let headersSortOrder = [\r\n    ...new Set(\r\n      sortOrderInfo\r\n        .filter((item, i) => {\r\n          return (\r\n            item.tab_name === activePrimaryTabName &&\r\n            item.sub_tab_name == activeSubTab\r\n          );\r\n        })\r\n        .map((item) => item.header_name)\r\n    ),\r\n  ];\r\n  //console.log(\"headersSortOrder\", headersSortOrder);\r\n\r\n  var KpiRow = useMemo(() => {\r\n    if (groupedKpis !== undefined) {\r\n      // console.log(\"KpiRow\", groupedKpis);\r\n      return (\r\n        groupedKpis\r\n          // .filter((d, i) => d[0][1].qNum != 0) //Kpi row 2\r\n          .map((qDef, i) => {\r\n            // console.log(\"KPI\" + i, qDef);\r\n            let drillDownUrl = DrillDownUrl(qDef[0], sheetData); //drilldown(qDef,i);\r\n            // console.log(\"-\",qDef[0][17].qText)\r\n            return (\r\n              <div\r\n                key={`kpi-bottom-${i}`}\r\n                row={Math.trunc(qDef[0][1].qNum)}\r\n                position={qDef[0][1].qNum}\r\n                style={{\r\n                  textDecoration: \"none\",\r\n                  color: \"white\",\r\n                  height: \"100%\",\r\n                }}\r\n                // className=\"col-12 col-sm-3 col-md-6 col-lg-3 chart\" //go\r\n                className=\"col-6 col-sm-3 col-md-3 col-lg-3 chart\"\r\n                rowtitle={getRowTitles(activeSubTab, qDef[0][7].qText, qDef)}\r\n                displayorder={1}\r\n                chartype=\"KPI\"\r\n                //className={bottomRowCount==5?\"col-6 col-sm-4 col-md-6 col-lg-4\":\"col-6 col-sm-4 col-md-4 col-lg-4\"}\r\n              >\r\n                <div\r\n                  className=\"kpi-bottom-container chart_card\"\r\n                  style={{ height: \"100%\" }}\r\n                >\r\n                  <Kpi qDef={qDef} />\r\n                  <div\r\n                    style={{ color: \"red\", display: dubugger ? \"\" : \"none\" }}\r\n                  >\r\n                    {\"KPI\" + qDef[0][1].qNum + \" \" + qDef[0][17].qText}\r\n                  </div>\r\n                </div>\r\n                <ViewMore drillDownUrl={drillDownUrl}></ViewMore>\r\n              </div>\r\n            );\r\n          })\r\n      );\r\n    }\r\n  }, [groupedKpis, sheetData, activeSubTab]);\r\n\r\n  // // map through gauge defs\r\n  const GaugeColumns = useMemo(() => {\r\n    if (groupedGauges !== undefined) {\r\n      //console.log(\"groupedGauges\", groupedGauges);\r\n      return groupedGauges\r\n        .filter((d) => d.length > 1)\r\n        .map((qDef, i) => {\r\n          let drillDownUrl = DrillDownUrl(qDef[0], sheetData); //drilldown(qDef,i);\r\n          return (\r\n            <div\r\n              key={`guage-${i}`}\r\n              row={Math.trunc(qDef[0][1].qNum)}\r\n              position={qDef[0][1].qNum}\r\n              style={{ height: \"100%\" }}\r\n              //   className=\"col-6 col-sm-3 col-md-6 col-lg-3 chart\" //go\r\n              className=\"col-6 col-sm-3 col-md-3 col-lg-3 chart\"\r\n              rowtitle={getRowTitles(activeSubTab, qDef[0][7].qText, qDef)}\r\n              displayorder={2}\r\n              chartype=\"GUAGE\"\r\n            >\r\n              <div\r\n                className=\"kpi-bottom-container chart_card\"\r\n                style={{ height: \"100%\" }}\r\n              >\r\n                <Gauge qDef={qDef} />\r\n                <div style={{ color: \"red\", display: dubugger ? \"\" : \"none\" }}>\r\n                  {\"KPI\" + qDef[0][1].qNum + \" \" + qDef[0][17].qText}\r\n                </div>\r\n              </div>\r\n              <ViewMore drillDownUrl={drillDownUrl}></ViewMore>\r\n            </div>\r\n          );\r\n        });\r\n      // return <div>Guage</div>;\r\n    }\r\n  }, [groupedGauges, sheetData, activeSubTab]);\r\n\r\n  // // map through line defs\r\n  const LineColumns = useMemo(() => {\r\n    if (groupedLines !== undefined) {\r\n      //console.log(\"groupedLines\", groupedLines);\r\n      return groupedLines.map((qDef, i) => {\r\n        let drillDownUrl = DrillDownUrl(qDef[0], sheetData); //drilldown(qDef,i);\r\n        return (\r\n          <div\r\n            key={`line-${i}`}\r\n            row={Math.trunc(qDef[0][1].qNum)}\r\n            position={qDef[0][1].qNum}\r\n            style={{ height: \"100%\" }}\r\n            className={\r\n              //GaugeColumns.length + KpiColumnsBottomRow.length === 0\r\n              //? \"col-9 col-sm-5 col-md-7 col-lg-5 chart\"\r\n              \"col-6 col-sm-3 col-md-3 col-lg-3 chart\"\r\n            }\r\n            rowtitle={getRowTitles(activeSubTab, qDef[0][7].qText, qDef)}\r\n          >\r\n            <div\r\n              className=\"line-container chart_card\"\r\n              style={{ height: \"100%\" }}\r\n            >\r\n              <Line qDef={qDef} />\r\n              <div style={{ color: \"red\", display: dubugger ? \"\" : \"none\" }}>\r\n                {\"KPI\" + qDef[0][1].qNum + \" \" + qDef[0][17].qText}\r\n              </div>\r\n            </div>\r\n            <ViewMore drillDownUrl={drillDownUrl}></ViewMore>\r\n          </div>\r\n        );\r\n      });\r\n      // return <div>Line Columns</div>;\r\n    }\r\n  }, [\r\n    groupedLines,\r\n    GaugeColumns.length,\r\n    // KpiColumnsBottomRow.length,\r\n    sheetData,\r\n    activeSubTab,\r\n  ]);\r\n\r\n  // // map through line defs\r\n  const BarColumns = useMemo(() => {\r\n    if (groupedBars !== undefined) {\r\n      //  console.log(\"BarColumns\", BarColumns);\r\n      return groupedBars.map((qDef, i) => {\r\n        // console.log(\"bar map----------\")\r\n        let drillDownUrl = DrillDownUrl(qDef[0], sheetData); //drilldown(qDef,i);\r\n        return (\r\n          <div\r\n            key={`bar-${i}`}\r\n            row={Math.trunc(qDef[0][1].qNum)}\r\n            position={qDef[0][1].qNum}\r\n            className={\r\n              //  GaugeColumns.length + KpiColumnsBottomRow.length === 0\r\n              //   ? \"col-9 col-sm-4 col-md-4 col-lg-4 chart\"\r\n              \"col-6 col-sm-3 col-md-3 col-lg-3 chart\" //3\r\n            }\r\n            style={{\r\n              height: \"100%\",\r\n            }}\r\n            rowtitle={getRowTitles(activeSubTab, qDef[0][7].qText, qDef)}\r\n          >\r\n            <div\r\n              className=\"bar-container kpi-bottom-container chart_card \"\r\n              style={{ height: \"100%\" }}\r\n            >\r\n              <Bar qDef={qDef} />\r\n              <div style={{ color: \"red\", display: dubugger ? \"\" : \"none\" }}>\r\n                {\"KPI\" + qDef[0][1].qNum + \" \" + qDef[0][17].qText}\r\n              </div>\r\n            </div>\r\n            <ViewMore drillDownUrl={drillDownUrl}></ViewMore>\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  }, [groupedBars, GaugeColumns, sheetData, activeSubTab]);\r\n\r\n  // // map through kpi defs for the bottom row of objects\r\n  const LeapKpiColums = useMemo(() => {\r\n    if (groupedLeaps !== undefined) {\r\n      // return groupedLeaps\r\n      //    console.log(\"groupedLeaps\", groupedLeaps);\r\n      return groupedLeaps.map((qDef, i) => {\r\n        // console.log(\"Leap Map\", qDef)\r\n        let drillDownUrl = DrillDownUrl(qDef[0], sheetData); //drilldown(qDef,i);\r\n        return (\r\n          <div\r\n            key={`leapbar-${i}`}\r\n            row={Math.trunc(qDef[0][1].qNum)}\r\n            position={qDef[0][1].qNum}\r\n            className={\r\n              // GaugeColumns.length + KpiColumnsBottomRow.length === 0\r\n              //  ? \"col-9 col-sm-4 col-md-4 col-lg-4 chart\"\r\n              \"col-6 col-sm-3 col-md-3 col-lg-3 chart\"\r\n            }\r\n            style={{\r\n              height: \"100%\",\r\n            }}\r\n            rowtitle={getRowTitles(activeSubTab, qDef[0][7].qText, qDef)}\r\n          >\r\n            <div\r\n              className=\"leapkpi-bottom-container kpi-bottom-container chart_card\"\r\n              style={{ height: \"100%\" }}\r\n            >\r\n              <LeapKpi qDef={qDef} />\r\n              <div style={{ color: \"red\", display: dubugger ? \"\" : \"none\" }}>\r\n                {\"KPI\" + qDef[0][1].qNum + \" \" + qDef[0][17].qText}\r\n              </div>\r\n            </div>\r\n            <ViewMore drillDownUrl={drillDownUrl}></ViewMore>\r\n          </div>\r\n        );\r\n        // console.log(\"done\")\r\n      });\r\n      //return <div> LeapKpiColums</div>;\r\n    }\r\n  }, [groupedLeaps, GaugeColumns, sheetData, activeSubTab]);\r\n\r\n  const DoughnnutColums = useMemo(() => {\r\n    if (groupedDoughnut !== undefined) {\r\n      // return groupedDoughnut\r\n      //console.log(\"DoughnnutColums\", groupedDoughnut);\r\n      return groupedDoughnut.map((qDef, i) => {\r\n        //console.log(\"Leap Map\", qDef);\r\n        let drillDownUrl = DrillDownUrl(qDef[0], sheetData); //drilldown(qDef,i);\r\n        return (\r\n          <div\r\n            key={`Doughnut-${i}`}\r\n            row={Math.trunc(qDef[0][1].qNum)}\r\n            position={qDef[0][1].qNum}\r\n            // className={\"col-12 col-sm-12 col-md-6 col-lg-3 chart\"}\r\n            className={\r\n              //GaugeColumns.length + KpiColumnsBottomRow.length === 0\r\n              //? \"col-9 col-sm-4 col-md-4 col-lg-4 chart\"\r\n              \"col-6 col-sm-3 col-md-3 col-lg-3 chart\"\r\n            }\r\n            style={{\r\n              height: \"100%\",\r\n            }}\r\n            rowtitle={getRowTitles(activeSubTab, qDef[0][7].qText, qDef)}\r\n            displayorder={0}\r\n          >\r\n            <div\r\n              className=\"doughnut-bottom-container chart_card\"\r\n              style={{ height: \"100%\" }}\r\n            >\r\n              <Doughnut qDef={qDef} />\r\n              <div style={{ color: \"red\", display: dubugger ? \"\" : \"none\" }}>\r\n                {\"KPI\" + qDef[0][1].qNum + \" \" + qDef[0][17].qText}\r\n              </div>\r\n            </div>\r\n            <ViewMore drillDownUrl={drillDownUrl}></ViewMore>\r\n          </div>\r\n        );\r\n        // console.log(\"done\")\r\n      });\r\n      //return <div> LeapKpiColums</div>;\r\n    }\r\n  }, [groupedDoughnut, GaugeColumns, sheetData, activeSubTab]);\r\n\r\n  // Rearrange the bottom row to make sure line chart is positioned correctly\r\n  var allRows = [].concat(\r\n    KpiRow,\r\n    GaugeColumns,\r\n    LineColumns,\r\n    BarColumns,\r\n    LeapKpiColums,\r\n    DoughnnutColums\r\n  );\r\n\r\n  // console.log(\"allRows\", allRows);\r\n\r\n  //groping by header\r\n  const groupByHeader = useCallback((gd) => {\r\n    return Object.values(lodashGroupBy(gd, (d) => d.props.rowtitle));\r\n  }, []);\r\n\r\n  //sorting the charts based on displayorder - to rearrange the position of charts\r\n  const sortBy = useCallback((sd) => {\r\n    return Object.values(lodashsortBy(sd, (d) => d.props.displayorder));\r\n  }, []);\r\n\r\n  // let groupedGridRows = groupByHeader(allRows);\r\n  // console.log(\"groupedGridRows\", groupedGridRows);\r\n\r\n  // let groupedGridRows_Sorted_ = groupedGridRows.map((items, i) => {\r\n  //   return sortBy(items);\r\n  // });\r\n  // console.log(groupedGridRows_Sorted_);\r\n\r\n  //data by headers\r\n  const data_by_header = allRows.reduce((result, item) => {\r\n    const key = item.props.rowtitle;\r\n    if (!result[key]) {\r\n      result[key] = [];\r\n    }\r\n    result[key].push(item);\r\n    return result;\r\n  }, {});\r\n\r\n  // console.log(\"data_by_header\", data_by_header);\r\n\r\n  //sort rows based on header sort order preferences\r\n  var groupedGridRows_Sorted = [];\r\n  headersSortOrder.map((item, i) => {\r\n    if (data_by_header[item]) groupedGridRows_Sorted.push(data_by_header[item]);\r\n  });\r\n\r\n  // console.log(groupedGridRows_Sorted);\r\n\r\n  const container_ref = useRef(null);\r\n  return (\r\n    <div ref={container_ref} className={\"App\"}>\r\n      <div className=\"App-header\">\r\n        {data.length === 0 ? (\r\n          // <div className=\"noAccessBg\">\r\n          <PlaceHolder message=\"No data available\" />\r\n        ) : (\r\n          // </div>\r\n          <div className=\"container-fluid\">\r\n            {groupedGridRows_Sorted.length > 0\r\n              ? groupedGridRows_Sorted.map((rowItems, i) => {\r\n                  let title = \"\";\r\n                  if (!isNull(rowItems)) {\r\n                    // console.log(\"rowItems\", rowItems);\r\n                    title = rowItems[0].props.rowtitle;\r\n                    //  console.log(\"rowp\",rowItems[0].props.rowtitle);\r\n                    //temporary fix for lenvov 360 tab -\r\n                    //issue -if same bp subType is associated with two rows, both the rows will have same titel\r\n                    //solutiion - make the title empty if previous row has the same title\r\n                    if (i > 0 && activeSubTab.includes(\"-\")) {\r\n                      // console.log(\"PREV TITEL\",groupedGridRows[i-1][0].props.rowtitle);\r\n                      // console.log(\"CUR TITEL\",rowItems[0].props.rowtitle);\r\n                      //  console.log(\"adding sub titles\");\r\n                      // console.log(container_ref.current);\r\n                      title =\r\n                        groupedGridRows_Sorted[i - 1][0].props.rowtitle ===\r\n                        rowItems[0].props.rowtitle\r\n                          ? \"\"\r\n                          : rowItems[0].props.rowtitle;\r\n                    }\r\n                  }\r\n\r\n                  return (\r\n                    <div key={i}>\r\n                      {!isNull(rowItems) ? (\r\n                        <div className=\"page-subTitle\">\r\n                          {rowItems.length ? title : \"\"}\r\n                        </div>\r\n                      ) : null}\r\n\r\n                      {rowItems.map(\r\n                        (item, index) =>\r\n                          index % 4 === 0 && (\r\n                            <div\r\n                              className=\"row align-items-center justify-content-around bottom-row\"\r\n                              key={index}\r\n                            >\r\n                              {rowItems.slice(index, index + 4)}\r\n                            </div>\r\n                          )\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import { groupBy as lodashGroupBy } from \"lodash\";\r\nimport { useCallback, useMemo } from \"react\";\r\n\r\nexport default (data, tabName) => {\r\n  // console.log(\"usepage:\" + tabName);\r\n  //console.log(\"region Check\",data?data[0][7].qText===\"EMEA\":0);\r\n  // // updating the position data based on the BP-Sybtype\r\n  // // since the position cant be handled from App, updating the actual position vales from App\r\n  // //Applicable for - tabs Specialist and region EMEA\r\n  if (\r\n    tabName.includes(\"Specialist\") && data[0] ? data[0][7].qText === \"EMEA\" : 0\r\n  ) {\r\n    //  console.log(\"includes specalist\");\r\n    // console.log(data);\r\n\r\n    //grouping by headers\r\n    let grouping = lodashGroupBy(data, (d) => d[17].qText.toLowerCase());\r\n    // console.log(\"bpGroup\", grouping);\r\n\r\n    // list of headers\r\n    let keys = Object.keys(grouping);\r\n\r\n    Object.keys(grouping).forEach((key) => {\r\n      let rowNum = keys.indexOf(key);\r\n\r\n      grouping[key].map((d, i) => {\r\n        d[1].row = rowNum + 1;\r\n        let derivedPostion = Number(d[1].qText) + rowNum;\r\n        d[1].qNum = derivedPostion;\r\n      });\r\n    });\r\n  } else {\r\n    // console.log(\"non EMEA and non specalist\");\r\n    //grouping by headers\r\n    let grouping = lodashGroupBy(data, (d) => d[17].qText.toLowerCase());\r\n    // console.log(\"grouping\", grouping);\r\n    let keys = Object.keys(grouping);\r\n\r\n    Object.keys(grouping).forEach((key) => {\r\n      let rowNum = keys.indexOf(key);\r\n      //  console.log(rowNum);\r\n      grouping[key].map((d, i) => {\r\n        // console.log(d[1].row);\r\n        d[1].row = rowNum + 1;\r\n        d[0].row = rowNum + 1;\r\n        let derivedPostion = Number(d[1].qNum) + rowNum;\r\n        // console.log(\"derivedPostion\",derivedPostion);\r\n        d[1].qNum = derivedPostion; // qNum and qText to handle posion data to have all charts displayed\r\n      });\r\n    });\r\n  }\r\n\r\n  const {\r\n    kpi: kpis,\r\n    gauge: gauges,\r\n    line: lines,\r\n    bar: bars,\r\n    leap: leaps,\r\n    doughnut: doughnuts,\r\n  } = lodashGroupBy(data, (d) => d[2].qText.toLowerCase());\r\n\r\n  // // group values with same position value together\r\n  const groupBy = useCallback((data) => {\r\n    return Object.values(lodashGroupBy(data, (d) => d[1].qNum));\r\n  }, []);\r\n\r\n  const groupedKpis = useMemo(() => groupBy(kpis), [groupBy, kpis]);\r\n  const groupedGauges = useMemo(() => groupBy(gauges), [groupBy, gauges]);\r\n  const groupedLines = useMemo(() => groupBy(lines), [groupBy, lines]);\r\n  const groupedBars = useMemo(() => groupBy(bars), [groupBy, bars]);\r\n  const groupedLeaps = useMemo(() => groupBy(leaps), [groupBy, leaps]);\r\n  const groupedDoughnut = useMemo(\r\n    () => groupBy(doughnuts),\r\n    [groupBy, doughnuts]\r\n  );\r\n\r\n  return {\r\n    groupedKpis,\r\n    groupedGauges,\r\n    groupedLines,\r\n    groupedBars,\r\n    groupedLeaps,\r\n    groupedDoughnut,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport languages from \"../../mappingTables/languageTranslations\";\r\n\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nconst languageParam = urlParams.get(\"lang\");\r\n\r\nconst Loader = ({ message }) => {\r\n\r\n  if (message !== \"Connection Failed\" && languageParam !== null) {\r\n    var message1 = languages.filter((d, i) => d.key === languageParam);\r\n\r\n    if (message1 && message1[0] && message1[0].loadingMsg !== undefined) {\r\n      message = message1[0].loadingMsg;\r\n    } else {\r\n      message = \"Dashboard is loading, please wait\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        fontSize: \"24px\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\nexport default Loader;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./style.css\";\r\n\r\nconst Tab = ({ children }) => {\r\n  const [activeTabSubTab, setActiveSubTab] = useState(0);\r\n  const [tabsData, setTabsData] = useState([]);\r\n  const [dataAvailalbe, SetdataAvailalbe] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let data = [];\r\n    React.Children.forEach(children, (element) => {\r\n      if (!React.isValidElement(element)) return;\r\n      const {\r\n        props: { tab, isMain, children },\r\n      } = element;\r\n\r\n      data.push({ tab, isMain, children });\r\n    });\r\n\r\n    //console.log(\"data\", data);\r\n    setTabsData(data);\r\n  }, [children]);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"active change\");\r\n    if (tabsData[activeTabSubTab] !== undefined) {\r\n      // console.log(\"children\",tabsData);\r\n      // console.log(\"children LENGTH\",tabsData[activeTabSubTab].children[1].props.data.length);\r\n\r\n      if (tabsData[activeTabSubTab].children[1].props.data.length > 0) {\r\n        SetdataAvailalbe(true);\r\n      } else {\r\n        SetdataAvailalbe(false);\r\n      }\r\n    }\r\n\r\n    setActiveSubTab(0);\r\n  }, [tabsData]);\r\n\r\n  const container_refZ = useRef(null);\r\n  useEffect(() => {\r\n    //console.log(\"-\",container_refZ.current.closest('#root').clientHeight);\r\n    if (tabsData.length !== 0) {\r\n      // console.log(\"active tab\",activeTabSubTab)\r\n      // console.log(\"tab data\",tabsData)\r\n      if (container_refZ.current && tabsData[activeTabSubTab]) {\r\n        let message = {\r\n          height: container_refZ.current.closest(\"#root\").clientHeight,\r\n          rows: container_refZ.current.children.length,\r\n          tabName: tabsData[activeTabSubTab].tab,\r\n        };\r\n        if (message.height !== \"undefined\") {\r\n          //   console.log(\"*Height info from Dahboard:\",message);\r\n          window.parent.postMessage(message, \"*\");\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  function handleSubTabClick(idx) {\r\n    idx === tabsData.length ? setActiveSubTab(0) : setActiveSubTab(idx);\r\n  }\r\n\r\n  return (\r\n    <div className={dataAvailalbe ? \"\" : \"noAccessBg\"}>\r\n      <ul className=\"nav nav-tabs nav-justified\">\r\n        {tabsData.map(({ tab }, idx) => {\r\n          return (\r\n            <li\r\n              key={idx}\r\n              style={tab === \"-\" ? { display: \"none\" } : { display: \"block\" }}\r\n              className={`nav-item ${idx === activeTabSubTab ? \"active\" : \"\"}`}\r\n            >\r\n              <a\r\n                className={`nav-link ${\r\n                  idx === activeTabSubTab ? \"active\" : \"\"\r\n                }`}\r\n                href=\"#\"\r\n                onClick={() => handleSubTabClick(idx)}\r\n              >\r\n                {tab}\r\n              </a>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n\r\n      <div ref={container_refZ} className={\"tab-content p-3\"}>\r\n        {tabsData[activeTabSubTab] && tabsData[activeTabSubTab].children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TabPane = ({ children }) => {\r\n  return children;\r\n};\r\n\r\nTab.TabPane = TabPane;\r\n\r\nexport default Tab;\r\n//className=\"w-100 custom-tab\"\r\n//className=\"tab-content p-3 noAccessBg\"\r\n//className={dataAvailalbe?\"w-100 custom-tab\":\" w-100 custom-tab noAccessBg\"}\r\n// className = this.state.clicked ? 'click-state' : 'base-state';\r\n// className={dataAvailalbe?\"tab-content p-3 \":\" w-100 custom-tab noAccessBg\"}\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\n// Shared Components\r\nimport Page from \"./Pages/PerformancePage\";\r\n\r\n// Lodash\r\nimport { flow, sortBy } from \"lodash/fp\";\r\nimport PlaceHolder from \"./components/PlaceHolder\";\r\nimport Loader from \"./components/Loader\";\r\nimport { useSession, useAppData, useGetSheetData } from \"./hooks/index\";\r\nimport Tab from \"./components/tab\";\r\n\r\nconst App = () => {\r\n  //Qlik error handling\r\n  const connectionError = useSession();\r\n  var { chartControlData, appData, isLoading, sortOrderInfo } = useAppData();\r\n\r\n  const [region, setregion] = useState([]);\r\n  const sheetData = useGetSheetData();\r\n  const [activePrimaryTab, setActivePrimaryTab] = useState(0);\r\n  // var [subTabGroups, setsubTabGroups] = useState([]);\r\n  var subTabGroups = [];\r\n  var subTabTitles = [];\r\n\r\n  function getSubTabGroups() {\r\n    if (primaryTabgroups !== undefined && subTabTitles !== undefined) {\r\n      let groupsd = subTabTitles.map((t, i) => {\r\n        return primaryTabgroups[activePrimaryTab].filter((d) => {\r\n          return d[11].qText === t;\r\n        });\r\n      });\r\n      subTabGroups = groupsd;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  //1. set the primary tab order from order info island table\r\n  const primaryTabOrder = useMemo(() => {\r\n    //console.table(sortOrderInfo);\r\n    return sortOrderInfo\r\n      .filter((obj, index, self) => {\r\n        return index === self.findIndex((t) => t.tab_order === obj.tab_order);\r\n      })\r\n      .map((item) => item.tab_name);\r\n  }, [sortOrderInfo]);\r\n\r\n  //2. get primary tabs\r\n  const primaryTabs = useMemo(() => {\r\n    //primary tabs form fact data\r\n    if (chartControlData) {\r\n      //unique primary tabs from chartControlData\r\n      let qUniquePrimaryTab = [\r\n        ...new Set(chartControlData.map((item) => item[18].qText)),\r\n      ];\r\n      //console.log(\"qUniquePrimaryTab\", qUniquePrimaryTab);\r\n\r\n      // reordering primary tabs from fact, based on sortinfo/island table\r\n      var pTabs = [];\r\n      if (primaryTabOrder.length) {\r\n        primaryTabOrder.map((item, i) => {\r\n          if (qUniquePrimaryTab.includes(item)) pTabs.push(item);\r\n          // return qUniquePrimaryTab.includes(item) ? item : \"\";\r\n        });\r\n        //console.log(\"pTabs\", pTabs);\r\n      }\r\n      return pTabs;\r\n    } else return [];\r\n  }, [chartControlData, primaryTabOrder]);\r\n\r\n  //sort the data by position order\r\n  const controlDataSorted = useMemo(() => {\r\n    if (chartControlData !== null) {\r\n      // console.log(\"chartControlData\", chartControlData);\r\n      setregion(chartControlData[0][7]?.qText);\r\n      //return chartControlData;\r\n      return flow(sortBy((d) => d[1].qNum))(chartControlData);\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [chartControlData]);\r\n\r\n  //3.get primary tabGroup\r\n  const primaryTabgroups = useMemo(() => {\r\n    if (primaryTabs.length && controlDataSorted != null) {\r\n      // console.log(\"****Getting Primary groups\");\r\n      return primaryTabs.map((t, i) => {\r\n        return controlDataSorted.filter((d) => {\r\n          return d[18].qText === primaryTabs[i]; //primary tab from fact\r\n        });\r\n      });\r\n    }\r\n  }, [primaryTabs, controlDataSorted]);\r\n\r\n  //4.get subtab order and reorder titles when active tabs is changed\r\n  subTabTitles = useMemo(() => {\r\n    if (primaryTabgroups != undefined) {\r\n      // console.log(\"****Getting subTabTitles\");\r\n      // console.log(\"activePrimaryTab**\", activePrimaryTab);\r\n      // console.log(\"primaryTabs**\", primaryTabs);\r\n\r\n      //get subtab order for the activePrimaryTab\r\n      let subTabOrder = sortOrderInfo\r\n        .filter(\r\n          (obj, index, self) =>\r\n            index ===\r\n            self.findIndex(\r\n              (t) =>\r\n                t.sub_order === obj.sub_order &&\r\n                t.tab_name === primaryTabs[activePrimaryTab]\r\n            )\r\n        )\r\n        .map((item) => item.sub_tab_name);\r\n      //console.log(\"subTabOrder\", subTabOrder);\r\n\r\n      //unique sub tabs from fact data\r\n      var qUniqueSubTabs = [\r\n        ...new Set(\r\n          primaryTabgroups[activePrimaryTab].map((t, i) => {\r\n            return t[11].qText; //su tabs\r\n          })\r\n        ),\r\n      ];\r\n      // console.log(\"qUniqueSubTabs\", qUniqueSubTabs);\r\n\r\n      //sales, incent\r\n\r\n      // reordering primary tabs based on sortinfo\r\n      var sTabs = [];\r\n      if (subTabOrder.length) {\r\n        subTabOrder.map((item, i) => {\r\n          if (qUniqueSubTabs.includes(item)) sTabs.push(item);\r\n          // return qUniqueSubTabs.includes(item) ? item : \"\";\r\n        });\r\n        //console.log(\"sTabs\", sTabs);\r\n      }\r\n\r\n      //return qUniqueSubTabs;\r\n      return sTabs;\r\n    } else {\r\n      return [];\r\n    }\r\n  }, [primaryTabgroups, activePrimaryTab]);\r\n\r\n  //on primary tab change\r\n  //set setsubTabGroups\r\n  // useEffect(() => {\r\n  //   console.log(\"on primary tab change\");\r\n  //   //same logic in getSubTabGroups\r\n  //   if (primaryTabgroups !== undefined && subTabTitles !== undefined) {\r\n  //     let subTabGrps = subTabTitles.map((t, i) => {\r\n  //       return primaryTabgroups[activePrimaryTab].filter((d) => {\r\n  //         return d[11].qText === t;\r\n  //       });\r\n  //     });\r\n  //     //setsubTabGroups(subTabGrps);\r\n  //   }\r\n  // }, [activePrimaryTab, subTabTitles]);\r\n  // //[activePrimaryTab, subTabTitles, primaryTabgroups]);\r\n\r\n  (function () {\r\n    getSubTabGroups();\r\n  })();\r\n\r\n  // console.log(\"renderCount\", renderCount);\r\n  // useEffect(() => {\r\n  //   console.log(\"---primaryTabs\", primaryTabs);\r\n  //   console.log(\"---primaryTabgroups\", primaryTabgroups);\r\n  //   console.log(\"--subTabTitles\", subTabTitles);\r\n  //   console.log(\"---subTabGroups\", subTabGroups);\r\n  // }, [primaryTabs, primaryTabgroups, subTabTitles, subTabGroups]);\r\n\r\n  //Display Loader before data display\r\n  if (\r\n    isLoading &&\r\n    !connectionError.doc.error &&\r\n    !connectionError.session.error\r\n  ) {\r\n    return (\r\n      // <div className=\"noAccessBg\">\r\n      <Loader message=\"Dashboard is loading, please wait\" />\r\n      // </div>\r\n    );\r\n  }\r\n  // connectionError.doc.error = \"Error\";\r\n  // connectionError.session.error = \"error\";\r\n\r\n  var noDataCondition =\r\n    subTabTitles.length === 0 ||\r\n    subTabTitles === null ||\r\n    subTabTitles === undefined ||\r\n    primaryTabgroups === undefined ||\r\n    primaryTabs.length === 0 ||\r\n    connectionError.doc.error ||\r\n    chartControlData === undefined ||\r\n    chartControlData === null;\r\n\r\n  return (\r\n    <div className={noDataCondition ? \"noAccessBg\" : \"\"}>\r\n      {connectionError.doc.error !== null ? (\r\n        <PlaceHolder message=\"No data available\" />\r\n      ) : connectionError.session.error !== null ? (\r\n        <PlaceHolder message=\"Connection Failed\" />\r\n      ) : region === \"EMEA\" ? (\r\n        <PlaceHolder message=\"We are working to update the charts and views on this page. Please go to the Lenovo 360 Incentives page under Programs & Training menu for details of your earnings.\" />\r\n      ) : (\r\n        <div className=\"\">\r\n          <div className=\"pri-nav-container\">\r\n            <ul className=\"pri-nav pri-nav-tabs nav-justified my-Container\">\r\n              {primaryTabs.map((Maintab, idx) => {\r\n                return (\r\n                  <li\r\n                    key={idx}\r\n                    className={`pri-nav-item ${\r\n                      idx === activePrimaryTab ? \"active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    <a\r\n                      className={`pri-nav-link ${\r\n                        idx === activePrimaryTab ? \"active\" : \"\"\r\n                      }`}\r\n                      href=\"#\"\r\n                      onClick={() => setActivePrimaryTab(idx)}\r\n                    >\r\n                      {Maintab}\r\n                    </a>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n          <Tab>\r\n            {subTabTitles.map((tabN, idx) => {\r\n              return (\r\n                <Tab.TabPane key={idx} tab={tabN}>\r\n                  {appData !== null && controlDataSorted !== null ? (\r\n                    <div\r\n                    // style={\r\n                    //   subTabGroups[idx].length ? {} : { display: \"none\" }\r\n                    // }\r\n                    >\r\n                      <span className=\"pageName\"></span>\r\n                      <span className=\"quarter\">{appData.quarter}</span>\r\n                      <div style={{ lineHeight: \"1\" }}>\r\n                        <span className=\"snapDate\">{`As of: ${appData.snapDate}`}</span>\r\n                        <span className=\"quarterRange\">\r\n                          {`(${appData.quarterStartDate} `}{\" \"}\r\n                          &nbsp;&nbsp;-&nbsp;&nbsp;\r\n                          {` ${appData.quarterEndDate})`}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n                  <Page\r\n                    // data={subTabGroups[idx]}\r\n                    data={subTabGroups.length !== 0 ? subTabGroups[idx] : []}\r\n                    sheetData={sheetData}\r\n                    activeSubTab={tabN}\r\n                    activePrimaryTabName={primaryTabs[activePrimaryTab]}\r\n                    sortOrderInfo={sortOrderInfo}\r\n                  />\r\n                </Tab.TabPane>\r\n              );\r\n            })}\r\n          </Tab>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import { useContext } from \"react\";\r\nimport { QlikContext } from \"./index\";\r\n\r\nexport default () => useContext(QlikContext);\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport { useSessionObject, useHyperCubeData } from \"./index\";\r\nimport chartControlDef from \"../qDefs/List/chartControl\";\r\nimport appDataDef from \"../qDefs/List/appDataDef\";\r\nimport { useGetLayout } from \"qlik-hooks/GenericObject\";\r\nimport { copySync } from \"fs-extra\";\r\n// import testData from \"../TestData/TestData\";\r\n\r\nexport default () => {\r\n  const [chartControlData, setChartControlData] = useState(null);\r\n  const [appData, setAppData] = useState(null);\r\n  const [isLoading, setPreLoader] = useState(true);\r\n  const [sortOrderInfo, setOrderInfo] = useState([]);\r\n  const [isControlDataLoaded, setControlDataLoaded] = useState(false);\r\n\r\n  //testData\r\n  // const { qsortData_testData } = testData();\r\n\r\n  //Get the chartControl data/fact data\r\n  const chartControl = useHyperCubeData({\r\n    def: chartControlDef,\r\n    dataTransformFunc: useCallback((qHyperCube) => {\r\n      // console.log(qHyperCube);\r\n      // const qMatrix = qHyperCube.qDataPages[0].qMatrix;\r\n      //    console.log(\"chartControl\",qMatrix);\r\n      return qHyperCube.qDataPages.length > 0\r\n        ? qHyperCube.qDataPages[0].qMatrix\r\n        : null;\r\n    }, []),\r\n  });\r\n\r\n  //set the chart control matrix to state\r\n  useEffect(() => {\r\n    if (chartControl.data !== null) {\r\n      setControlDataLoaded(true);\r\n      [...chartControl.data].map((f) => {\r\n        if (!f[11].qText) {\r\n          f[11].qText = \"-\"; // if sutab title is empty/undefined, replace it to \"-\"\r\n        }\r\n        return f;\r\n      });\r\n      setChartControlData(chartControl.data);\r\n    }\r\n  }, [chartControl]);\r\n\r\n  const appLayout = useHyperCubeData({\r\n    def: appDataDef,\r\n    dataTransformFunc: useCallback((qHyperCube) => {\r\n      const qMatrix = qHyperCube.qDataPages[0].qMatrix[0];\r\n      return {\r\n        quarter: qMatrix[0].qText,\r\n        quarterStartDate: qMatrix[1].qText,\r\n        quarterEndDate: qMatrix[2].qText,\r\n        snapDate: qMatrix[3].qText,\r\n      };\r\n    }, []),\r\n  });\r\n  //set the chart control matrix to state\r\n  useEffect(() => {\r\n    if (appLayout.data !== null) {\r\n      setAppData(appLayout.data);\r\n      if (isControlDataLoaded) setPreLoader(false);\r\n    }\r\n  }, [chartControl, appLayout]);\r\n\r\n  ///Create session object for business group\r\n  const sortOrderTable = useSessionObject({\r\n    qInfo: {\r\n      qType: \"order list\",\r\n    },\r\n    qHyperCubeDef: {\r\n      qDimensions: [\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"tab_order\"],\r\n          },\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"tab_name\"], //1/\r\n          },\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"sub_tab_order\"], //1/\r\n          },\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"sub_tab_name\"], //1/\r\n          },\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"header_order\"], //1/\r\n          },\r\n        },\r\n        {\r\n          qDef: {\r\n            qFieldDefs: [\"header_name\"], //1/\r\n          },\r\n        },\r\n      ],\r\n      qInitialDataFetch: [\r\n        {\r\n          qWidth: 6,\r\n          qHeight: 100,\r\n        },\r\n      ],\r\n    },\r\n  });\r\n\r\n  // Get the layout of the business groups session object and set it to state.\r\n  const TitleOrderLayout = useGetLayout(sortOrderTable, {\r\n    params: [],\r\n    invalidations: true,\r\n  }).qResponse;\r\n\r\n  //error handling for failure to get response from Qlik\r\n  useEffect(() => {\r\n    if (TitleOrderLayout !== null) {\r\n      let qsortData = TitleOrderLayout.qHyperCube.qDataPages[0].qMatrix;\r\n      //console.log(\"qsortData\", qsortData);\r\n\r\n      //testdata not for production\r\n      // if (qsortData.length == 0) {\r\n      //   qsortData = qsortData_testData;\r\n      // }\r\n\r\n      var srAr = [];\r\n      qsortData.map((item, i) => {\r\n        let d = {\r\n          tab_order: item[0].qText,\r\n          tab_name: item[1].qText,\r\n          sub_order: item[2].qText,\r\n          sub_tab_name: item[3].qText,\r\n          header_order: item[4].qText,\r\n          header_name: item[5].qText,\r\n        };\r\n        srAr.push(d);\r\n      });\r\n      // console.table(srAr);\r\n\r\n      setOrderInfo(srAr);\r\n    }\r\n  }, [TitleOrderLayout]);\r\n\r\n  return {\r\n    sortOrderInfo,\r\n    chartControlData,\r\n    appData,\r\n    isLoading,\r\n  };\r\n};\r\n","import { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { useHyperCubeData } from \"./index\";\r\nimport drillDownDataDef from \"../qDefs/List/drillDownDataDef\";\r\nimport { QlikContext } from \"./QlikProvider\";\r\n\r\nexport default () => {\r\n  const [sheetData, setSheetData] = useState(null);\r\n  const { apps } = useContext(QlikContext);\r\n  const { config } = useContext(QlikContext);\r\n\r\n  const sheets = useHyperCubeData({\r\n    def: drillDownDataDef,\r\n    dataTransformFunc: useCallback((qHyperCube) => {\r\n      return qHyperCube.qDataPages[0].qMatrix.map((sheet) => ({\r\n        app: {},\r\n        sheetId: sheet[0].qText,\r\n        engineObjectId: sheet[0].qText,\r\n        sheetName: sheet[1].qText,\r\n        description: sheet[2].qText,\r\n        appName: sheet[3].qText\r\n      }));\r\n    }, []),\r\n  });\r\n\r\n  \r\n  useEffect(() => {\r\n    if (apps && sheets && sheets.data) {\r\n      sheets.data.forEach(sheet => {\r\n        sheet.app.id = apps.find(app => app.name === sheet.appName)?.resourceId\r\n        sheet.tenant = config.host;\r\n      });\r\n      setSheetData(sheets.data);\r\n    }\r\n  }, [apps, sheets, config]);\r\n\r\n  return sheetData;\r\n};\r\n","import \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\n\r\nimport setup from \"./setup\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { QlikProvider } from \"./hooks/index\";\r\n\r\n//polyfill for browser compatibility\r\nif (!String.prototype.startsWith) {\r\n  String.prototype.startsWith = function (searchString, position) {\r\n    position = position || 0;\r\n    return this.substr(position, searchString.length) === searchString;\r\n  };\r\n}\r\n\r\nsetup(\"NEW SALES PERFORMANCE DASHBOARD\")\r\n  .then((data) => {\r\n    if (data) {\r\n      ReactDOM.render(\r\n        <QlikProvider config={data.config} apps={data.apps}>\r\n          <App />\r\n        </QlikProvider>,\r\n        document.getElementById(\"root\")\r\n      );\r\n    }\r\n  })\r\n  .catch((error) => {\r\n    console.log(\"ERROR\", error);\r\n  });\r\n"],"sourceRoot":""}