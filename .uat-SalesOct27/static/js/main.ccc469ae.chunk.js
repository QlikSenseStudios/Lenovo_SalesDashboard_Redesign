(window["webpackJsonplenovo-velocity"]=window["webpackJsonplenovo-velocity"]||[]).push([[0],{271:function(e,t,a){e.exports=a(501)},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){"use strict";a.r(t);a(272),a(281);var n=a(46),r=a.n(n),i=a(82),l=a(0),c=a.n(l),o=a(63),s=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(224),d=a.n(u),f=[{key:"CS_CZ",language:"Czech",message:"Data nejsou k dispozici",loadingMsg:"\u0158\xeddic\xed panel se na\u010d\xedt\xe1, \u010dekejte pros\xedm.",legendMsg:"Click on a KPI object to access detailed data"},{key:"DE_DE",language:"German",message:"Keine Daten verf\xfcgbar",loadingMsg:"Dashboard wird geladen, bitte warten",legendMsg:"Click on a KPI object to access detailed data"},{key:"EN_US",language:"English",message:"No Data Available",loadingMsg:"Dashboard is loading, please wait",legendMsg:"Click on a KPI object to access detailed data"},{key:"ES_ES",language:"Spanish (Spain)",message:"No hay informaci\xf3n disponible",loadingMsg:"Espera a que el panel de control se cargue",legendMsg:"Click on a KPI object to access detailed data"},{key:"EN_GB",language:"English UK",message:"No Data Available",loadingMsg:"Dashboard is loading, please wait",legendMsg:"Click on a KPI object to access detailed data"},{key:"ES_MX",language:"Spanish (LAS)",message:"No hay informaci\xf3n disponible",loadingMsg:"El dashboard se est\xe1 cargando, por favor espere",legendMsg:"Click on a KPI object to access detailed data"},{key:"FR_FR",language:"French",message:"Aucune donn\xe9e disponible",loadingMsg:"Le tableau de bord est en cours de chargement, veuillez patienter",legendMsg:"Click on a KPI object to access detailed data"},{key:"IN_ID",language:"Indonesian",message:"Tidak ada data tersedia",loadingMsg:"Dasbor sedang dimuat, harap tunggu",legendMsg:"Click on a KPI object to access detailed data"},{key:"IT_IT",language:"Italian",message:"Informazioni non disponibili",loadingMsg:"Attendi, \xe8 in corso il caricamento del dashboard",legendMsg:"Click on a KPI object to access detailed data"},{key:"KO_KR",language:"Korean",message:"\uc0ac\uc6a9\uac00\ub2a5\ud55c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4",loadingMsg:"\ub300\uc2dc\ubcf4\ub4dc\ub97c \ub85c\ub4dc\ud558\ub294 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc \uae30\ub2e4\ub824 \uc8fc\uc2ed\uc2dc\uc624.",legendMsg:"Click on a KPI object to access detailed data"},{key:"NL_NL",language:"Dutch",message:"Geen data beschikbaar",loadingMsg:"Dashboard wordt geladen, even geduld",legendMsg:"Click on a KPI object to access detailed data"},{key:"PL_PL",language:"Polish",message:"Brak Danych",loadingMsg:"Trwa \u0142adowanie pulpitu, prosz\u0119 czeka\u0107",legendMsg:"Click on a KPI object to access detailed data"},{key:"PT_BR",language:"Portuguese (Brazil)",message:"Dados n\xe3o dispon\xedveis",loadingMsg:"Painel est\xe1 carregando, por favor, espere",legendMsg:"Click on a KPI object to access detailed data"},{key:"RU_RU",language:"Russian",message:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442",loadingMsg:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.",legendMsg:"Click on a KPI object to access detailed data"},{key:"TH_TH",language:"Thai",message:"No Data Available",loadingMsg:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14\u0e41\u0e14\u0e0a\u0e1a\u0e2d\u0e23\u0e4c\u0e14 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e2d\u0e0b\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48",legendMsg:"Click on a KPI object to access detailed data"},{key:"VI_VN",language:"Vietnamese",message:"Th\xf4ng tin n\xe0y hi\u1ec7n kh\xf4ng c\xf3",loadingMsg:"B\xe1o c\xe1o \u0111ang t\u1ea3i, vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t",legendMsg:"Click on a KPI object to access detailed data"},{key:"ZH_CN",language:"Traditional Chinese",message:"\u6c92\u6709\u53ef\u7528\u8cc7\u6599",loadingMsg:"\u6b63\u5728\u8f09\u5165\u5100\u8868\u677f\uff0c\u8acb\u7a0d\u5019",legendMsg:"Click on a KPI object to access detailed data"},{key:"JA_JP",language:"Japanese",message:"\u5229\u7528\u3067\u304d\u308b\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093",loadingMsg:"\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u3002\u4eca\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002",legendMsg:"Click on a KPI object to access detailed data"}],m=new URLSearchParams(window.location.search).get("lang"),p=function(e){var t=e.message;return"Connection Failed"!==t&&null!==m&&(t=f.filter((function(e,t){return e.key===m}))[0].message),c.a.createElement("div",{style:{fontSize:"24px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},t)};function g(e,t){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(r.a.mark((function e(t,a){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://".concat(t,"/api/v1/users/me"),{mode:"cors",credentials:"include",redirect:"follow",headers:{"qlik-web-integration-id":a}});case 3:if(!((n=e.sent).status<200||n.status>=400)){e.next=6;break}throw n;case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),i=encodeURIComponent(window.location.href),window.location.href="https://".concat(t,"/login?returnto=").concat(i,"&qlik-web-integration-id=").concat(a),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark((function e(t){var a,n,i,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.webIntegrationId,n=t.url,e.next=3,fetch("".concat(n,"/api/v1/csrf-token"),{credentials:"include",headers:{"qlik-web-integration-id":a}});case 3:if(401!==(i=e.sent).status){e.next=10;break}return(l=new URL("".concat(n,"/login"))).searchParams.append("returnto",window.location.href),l.searchParams.append("qlik-web-integration-id",a),window.location.href=l,e.abrupt("return",void 0);case 10:return c=new Map(i.headers).get("qlik-csrf-token"),e.abrupt("return",{"qlik-web-integration-id":a,"qlik-csrf-token":c});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,l,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="mbq71d0rz7otbdf.eu.qlikcloud.com",n="pBw85_j9m_Thz5A6U5tDm37BiFmouLrH",l="618bd084eac3bd232c7a07ec",function(){var e=document.createElement("script");e.type="text/javascript",e.async=1,e.src="https://cdn.quantummetric.com/qscripts/quantum-lenovopartnerhub-test.js";var t=document.getElementsByTagName("script")[0];!window.QuantumMetricAPI&&t.parentNode.insertBefore(e,t)}(),s.a.render(c.a.createElement(p,{message:"Connecting, please wait"}),document.getElementById("root")),e.prev=6,e.next=9,g(a,n);case 9:return o={url:"",host:a,isSecure:!0,appname:"",webIntegrationId:n},u={crossDomain:!0,withCredentials:!0,url:"https://".concat(a,"/api/v1/items?resourceType=app&spaceId=").concat(l,"&limit=50"),method:"GET",headers:{"qlik-web-integration-id":o.webIntegrationId},appName:t},e.abrupt("return",d()(u).then(function(){var e=Object(i.a)(r.a.mark((function e(t){var i,l,c,s,d,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.data,c=l.data,s=null===(i=c.find((function(e){return e.name===u.appName})))||void 0===i?void 0:i.resourceId,o.appname=s,e.next=6,h({url:"https://".concat(a),webIntegrationId:n});case 6:return d=e.sent,f=Object.keys(d).map((function(e){return"".concat(e,"=").concat(d[e])})).join("&"),o.url="wss://".concat(o.host,"/app/").concat(s,"?").concat(f),e.abrupt("return",{config:o,apps:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return s.a.render(c.a.createElement(p,{message:"Connection Failed"}),document.getElementById("root"))})));case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",s.a.render(c.a.createElement(p,{message:"Connecting, please wait"}),document.getElementById("root")));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),E=q;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}));a(485);var D=a(62),y=a(12),k=(a(486),a(487),function(e){var t=e.qDef,a=t.map((function(e){return{kpi_Val_type:e[4].qText,title:e[3].qText,val:e[12].qText,f_val:e[13].qText,lbl:e[14].qText}}));var n=["#E1140A","#00cc44"],r={title:a.length?a[0].title:"",value:a.length?a[0].f_val:"",variance1Title:a.length>1?a[1].lbl:"",variance1:a.length>1?a[1].f_val:"",variance2Title:a.length>2?a[2].lbl:"",variance2:a.length>2?a[2].f_val:""};function i(e){var t={color:e.includes("\u25bc")?n[0]:e.includes("\u25b2")?n[1]:"",fontWeight:"bolder"};if(e.includes("\u25bc")&&(e.includes("\u25bc")&&(t.color=n[0]),e.includes("\u25b2")&&(t.color=n[1])),e.includes("%")){var a=e.split("%"),r=Math.sign(parseInt(a[0]));t.color=-1==r?n[0]:n[1]}return t}if(!r)return c.a.createElement("div",null,"Loading...");var l=r.title,o=r.value,s=r.variance1,u=r.variance2,d=r.variance3,f=r.variance1Title,m=r.variance2Title,p=r.variance3Title;return c.a.createElement("div",{className:"kpi-container"},c.a.createElement("div",{className:"subtitle"},l),c.a.createElement("div",{className:"kpi-value-section"},c.a.createElement("div",{className:4===t.length?"kpi-value display kpiv2":"kpi-value display"},o),c.a.createElement("div",{className:"kpi-variances"},c.a.createElement("div",{className:"kpi-variance"},c.a.createElement("div",{className:4===t.length?"note variance-label kpiv2":"note variance-label",title:f},f),c.a.createElement("div",{className:"note-value",style:i(s)},s)),c.a.createElement("div",{className:"kpi-variance"},c.a.createElement("div",{className:4===t.length?"note variance-label kpiv2":"note variance-label",title:m},m),c.a.createElement("div",{className:"note-value",style:i(u)},u)),null!==p&&null!==d?c.a.createElement("div",{className:"kpi-variance"},c.a.createElement("div",{className:4===t.length?"note variance-label kpiv2":"note variance-label"},p),c.a.createElement("div",{className:"note"},d)):null)))}),N=a(20),w=a.n(N),x=a(225),T=a(226),j=Object(l.createContext)(),_=function(e){var t=e.config,a=e.apps,n=e.children,r=Object(x.useConnectEngine)(t),i=Object(T.useOpenDoc)(r,{params:[t.appname]});return c.a.createElement(j.Provider,{value:{doc:i,session:r,apps:a,config:t}},n)},O={qInfo:{qType:"chart control"},qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:["kpi_id"],qSortCriterias:[{qSortByAscii:1}]}},{qDef:{qFieldDefs:["position"]}},{qDef:{qFieldDefs:["element"]}},{qDef:{qFieldDefs:["kpi_description"]}},{qDef:{qFieldDefs:["kpi_value_type"]}},{qDef:{qFieldDefs:["pcgdcg"]}},{qDef:{qFieldDefs:["Object GEO ID"]}},{qDef:{qFieldDefs:["geo"]}},{qDef:{qFieldDefs:["persona_type"]}},{qDef:{qFieldDefs:["bp_type"]}},{qDef:{qFieldDefs:["bp_type_mapped"]}},{qDef:{qFieldDefs:["sub_tab"]}},{qDef:{qFieldDefs:["local_value"]}},{qDef:{qFieldDefs:["local_value_formated"]}},{qDef:{qFieldDefs:["kpi_label"]}},{qDef:{qFieldDefs:["week_of_quarter"]}},{qDef:{qFieldDefs:["value"]}},{qDef:{qFieldDefs:["header"]}},{qDef:{qFieldDefs:["tab"]}}],qInitialDataFetch:[{qWidth:19,qHeight:1e4/19}]}},C={qInfo:{qType:"app data"},qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:["quarter"]}},{qDef:{qFieldDefs:["quarter_start_date"]}},{qDef:{qFieldDefs:["quarter_end_date"]}}],qMeasures:[{qDef:{qDef:"=MinString(snap_date)"}}],qInitialDataFetch:[{qWidth:4,qHeight:2500}]}},M=a(103),A=a(504),S=a(104),P=a(505),I=function(e,t){var a=Object(l.useState)(0),n=Object(y.a)(a,2),r=n[0],i=n[1];return Object(l.useEffect)((function(){return function(e,t){if(void 0!==e.current){var a=e.current.querySelector(".svg"),n=Object(A.a)(window,"resize").pipe(Object(S.a)((function(){return[a.getBoundingClientRect().width-10,a.getBoundingClientRect().height-20]})),Object(P.a)([a.getBoundingClientRect().width-10,a.getBoundingClientRect().height-20])).subscribe(t);return function(){return n.unsubscribe()}}}(e,i)}),[e,t]),{width:r[0],height:r[1]}},L=a(3),F=2*Math.PI,R=function(e){var t=Object(l.useRef)();return Object(l.useEffect)((function(){if(null!==e&&"NaN"!==e.note2Value){var a=L.a(),n=L.o(".background-container").selectAll(".circle-max").data([e]);n.exit().remove(),n.enter().append("path").classed("circle-max",!0).attr("d",a({endAngle:.75*F,startAngle:0,innerRadius:45,outerRadius:45})).attr("stroke-linecap","round").attr("stroke-dasharray",1).attr("transform","translate(48,48) rotate(225)");var r=L.n(t.current).selectAll(".circle-current").data([e]);r.exit().remove(),r.enter().append("path").classed("circle-current",!0).merge(r).attr("transform","translate(48,48) rotate(225)").attr("d",(function(e){return e.note2Value<0?a({endAngle:0,startAngle:0,innerRadius:45,outerRadius:45}):a({endAngle:F*(e.note2Value>1?.75:.75*e.note2Value),startAngle:0,innerRadius:45,outerRadius:45})}))}}),[e,t]),t},B={qInfo:{qType:"drillData"},qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:["sheet_id"],qSortCriterias:[{qSortByAscii:1}]}},{qDef:{qFieldDefs:["sheet_name"]}},{qDef:{qFieldDefs:["sheet_description"]}},{qDef:{qFieldDefs:["app_name"]}}],qInitialDataFetch:[{qWidth:5,qHeight:200}]}};var V=function(e){var t=e.def,a=e.dataTransformFunc,n=void 0===a?function(e){return e}:a,r=e.path,i=void 0===r?"qHyperCube":r,c=G(t),o=Object(M.useGetLayout)(c,{params:[],invalidations:!0}).qResponse,s=Object(l.useState)(null),u=Object(y.a)(s,2),d=u[0],f=u[1];return Object(l.useEffect)((function(){return null!==o&&void 0!==o&&f(n(function(e,t){var a,n=t.split("."),r=e;for(a=0;a<n.length;++a){if(void 0===r[n[a]])return;r=r[n[a]]}return r}(o,i))),function(){return f(null)}}),[o,n,i]),{data:d,handle:c}},U=a(227),G=function(e){var t=Object(l.useContext)(j).doc;return Object(U.useCreateSessionObject)(t,{params:[e]})};var K=function(e){var t=Object(l.useRef)(),a=["#FF7675","#8246AF","#F04187"];return Object(l.useEffect)((function(){var n=30,r=10,i=45,l="10px";if(window.innerWidth>1500&&(n=30,r=10,i=45),window.innerWidth<1300&&(n=30,r=40,i=30),window.innerWidth<1200&&(n=28,r=40,i=25),window.innerWidth<1100&&(n=25,r=45,i=25),window.innerWidth<770&&(n=25,r=45,i=25,l="8px"),null!==e){var c=L.n(t.current);c.select(".toolTipContainer").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").style("z-index","200");c.select("svg").selectAll("g.arc").data(e).exit().remove();var o=c.select("svg"),s=L.a().innerRadius(n).outerRadius(n-8),u=L.j().sort(null).startAngle(1.1*Math.PI).endAngle(3.1*Math.PI).value((function(e){return e.value})),d=o.selectAll(".arc").data(u(e)).enter().append("g").attr("transform","translate("+r+","+i+")").attr("class","arc");d.append("path").style("fill",(function(e,t){return a[t]})).transition().delay((function(e,t){return 200*t})).duration(500).attrTween("d",(function(e){var t=L.f(e.startAngle+0,e.endAngle);return function(a){return e.endAngle=t(a),s(e)}}));var f=L.r(e,(function(e){return e.value}));d.append("text").text((function(){return(e=f)>=999999999?(Math.abs(e)/1e9).toFixed(1)+"B":e>=999999?(Math.abs(e)/1e6).toFixed(1)+"M":e>=999?(Math.abs(e)/1e3).toFixed(1)+"K":Math.sign(e)*Math.abs(e);var e})).attr("text-anchor","middle").style("fill","#333f48").style("color","#333f48").style("font-weight","500").attr("y",.16*n).style("font-size",l)}}),[e,t]),t},W=20,H=10,z=20,J=20,Z=function(e){var t=e.data,a=e.width,n=e.height,r=e.refLine,i=e.title,o=e.upperTarget,s=e.lowerTarget,u=e.colorTheme,d=void 0===u?"black":u,f=Object(l.useState)({}),m=Object(y.a)(f,2),p=m[0],g=m[1],v=Object(l.useRef)(),h=Object(l.useRef)(),b=Object(l.useRef)(),q=Object(l.useRef)(),E=Object(l.useRef)(),k=Object(l.useRef)(),N=window.location.href.slice(0,window.location.href.lastIndexOf("/"));Object(l.useEffect)((function(){var e=r?[o,s]:null;var a=r?t[t.length-1]:null;var n=r?L.h(e):null,i=r?L.i(e):null;g({referenceLineData:e,latestPointData:a,refLineMax:n,refLineMin:i,data:t})}),[t,r,o,s]);var w=Object(l.useMemo)((function(){if(void 0!==a)return L.m().domain(Object(D.a)(p.data.map((function(e){return e[1].qNum})))).range([J,a-H])}),[a,p.data]),x=Object(l.useMemo)((function(){if(void 0!==n){var e=L.h(p.data,(function(e){return e[2].qNum+1})),t=L.i(p.data,(function(e){return e[2].qNum}));return L.l().domain([Math.min(t,0),p.referenceLineData&&p.referenceLineData[0]>e?p.referenceLineData[0]+1:e]).range([n-z,W])}}),[n,p.data,p.referenceLineData]);return Object(l.useEffect)((function(){if(a&&0!==n){var e=L.i(p.data,(function(e){return e[1].qNum})),t=L.b(w),i=L.c(x).ticks(5),l=L.g().x((function(e,t){return w(e[1].qNum)})).y((function(e,t){return x(e[2].qNum)})),c=L.n(q.current).selectAll(".lineSVG").data([p.data]);if(c.exit().remove(),c.enter().append("path").attr("stroke-width",2).attr("stroke","#ff6a00").attr("fill","none").merge(c).classed("lineSVG",!0).attr("d",l),r){var o=L.n(E.current).selectAll(".refLine").data(p.referenceLineData);o.exit().remove(),o.enter().append("line").attr("stroke-width",2).attr("stroke",d).classed("refLine",!0).merge(o).attr("x1",w(e)).attr("x2",a).attr("y1",x(p.referenceLineData[0])).attr("y2",x(p.referenceLineData[0])),L.n(E.current).append("line").attr("stroke-width",2).attr("stroke",d).merge(o).classed("refLine",!0).attr("x1",w(e)).attr("x2",a).attr("y1",x(p.referenceLineData[1])).attr("y2",x(p.referenceLineData[1]))}var s=L.n(k.current).selectAll(".circle").data(p.data);if(s.exit().remove(),s.enter().append("circle").attr("stroke","#ff6a00").attr("fill","#ff6a00").attr("stroke-width",2).attr("r",3).merge(s).classed("circle",!0).attr("opacity",(function(e){return"NaN"===e[2].qNum?"0":"1"})).attr("cx",(function(e){return w(e[1].qNum)})).attr("cy",(function(e){return x(e[2].qNum)})),!0===r&&p.latestPointData[2].qNum>p.refLineMax||!0===r&&p.latestPointData[2].qNum<p.refLineMin){var u=L.n(b.current).selectAll(".warning_image").data(p.latestPointData);u.exit().remove(),u.enter().append("image").attr("xlink:href","".concat(N,"/images/mark-warning.svg")).attr("width",20).attr("height",28.5).merge(u).attr("x",w(p.latestPointData[1].qNum)-10).attr("y",(function(){return p.latestPointData[2].qNum>p.refLineMax?x(p.latestPointData[2].qNum)+5:x(p.latestPointData[2].qNum)-35})).classed("warning_image",!0);var f=L.n(b.current).selectAll(".warning_text").data(p.latestPointData);f.exit().remove(),f.enter().append("text").text("".concat(p.latestPointData[2].qNum)).attr("font-size","15px").attr("font-weight","bold").attr("stroke","black").attr("stroke-width","0.2px").merge(f).attr("x",w(p.latestPointData[1].qNum)-30).attr("y",(function(){return p.latestPointData[2].qNum>p.refLineMax?x(p.latestPointData[2].qNum)+25:x(p.latestPointData[2].qNum)-15})).attr("fill",d).classed("warning_text",!0)}L.n(h.current).call(t).attr("transform","translate(0,".concat(n-z,")")),L.n(v.current).call(i).attr("transform","translate(".concat(J,", 0)")),L.n(v.current).selectAll("line").attr("x2",a-J).attr("stroke-dasharray","2.2")}}),[p,r,a,n,N,d,w,x]),c.a.createElement("div",{className:"d3-line-container"},c.a.createElement("div",{className:"utilization_container"},c.a.createElement("div",{style:{height:"10%"},className:"subtitle"},i),c.a.createElement("svg",{ref:b,style:{width:"100%",height:"100%"},className:"svg"},c.a.createElement("g",{ref:v,className:"yAxis"}),c.a.createElement("g",{ref:h,className:"xAxis"}),c.a.createElement("g",{ref:q,className:"lineG"}),c.a.createElement("g",{ref:E,className:"refLineG"}),c.a.createElement("g",{ref:k,className:"circleG"}))))},Q=(a(489),function(e){var t=!1,a=e.qDef.filter((function(e){return!isNaN(parseInt(e[15].qText))})).map((function(e){return{pos:e[1].qText,kpi_Val_type:e[4].qText,title:e[3].qText,val:e[16].qText,f_val:e[13].qText,lbl:e[14].qText,week:parseInt(e[15].qText)}}));var n=V({def:{qInfo:{qType:"Line Chart"},qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:["quarter"],qSortCriterias:[{qSortByAscii:-1}]}},{qDef:{qFieldDefs:["week_of_quarter"],qSortCriterias:[{qSortByAscii:1}]}},{qDef:{qFieldDefs:["position"]}},{qDef:{qFieldDefs:["kpi_value_type"]}},{qDef:{qFieldDefs:["kpi_label"]}},{qDef:{qFieldDefs:["value"]}}],qMeasures:[],qInitialDataFetch:[{qWidth:6,qHeight:1e4/6}]}},dataTransformFunc:Object(l.useCallback)((function(e){return e.qDataPages[0].qMatrix.map((function(e){return{quarter:e[0].qText,week:e[1].qText,pos:e[2].qText,kpi_value_type:e[3].qText,lbl:e[4].qText,val:e[5].qText}}))}),[])}).data,r=void 0===n?{}:n,i=null,o=!1;if(r&&a.length){t,i=r.filter((function(e){return"-"===e.week||!isNaN(e.week)})).filter((function(e){return e.pos===a[0].pos})).filter((function(e){return"ACTUAL"===e.kpi_value_type.toUpperCase()})).map((function(e){return[{qNum:parseInt(e.val)},{qNum:parseInt(e.week)},{qNum:parseInt(e.val)}]}));var s={title:a.find((function(e){return"ACTUAL"===e.kpi_Val_type.toUpperCase()})).lbl,lineChart:i,upperTarget:r.filter((function(e){return"UPPER TARGET"===e.kpi_value_type.toUpperCase()})).length?r.filter((function(e){return"UPPER TARGET"===e.kpi_value_type.toUpperCase()}))[0].val:null,lowerTarget:r.filter((function(e){return"LOWER TARGET"===e.kpi_value_type.toUpperCase()})).length?r.filter((function(e){return"LOWER TARGET"===e.kpi_value_type.toUpperCase()}))[0].val:null};t,o=!Object(N.isNull)(s.upperTarget)&&!Object(N.isNull)(s.lowerTarget)}var u=Object(l.useRef)(),d=I(u,r),f=d.width,m=d.height,p={height:document.getElementById("root").clientHeight,rows:"dummy",tabName:"dummy"};return"undefined"!==p.height&&window.parent.postMessage(p,"*"),null!==r?c.a.createElement("div",{style:{width:"100%"},ref:u},c.a.createElement(Z,{title:s.title,data:s.lineChart,upperTarget:s.upperTarget,lowerTarget:s.lowerTarget,width:f,height:m,refLine:o,colorTheme:se.refLines})):c.a.createElement("div",{style:{color:"black"}}," Loading...")}),X=(a(490),15),$=10,Y=function(e){var t=e.value,a=e.target,n=e.targetRounded,r=e.tierName,i=e.title,o=e.width,s=e.height,u=Object(l.useRef)(),d=Object(l.useRef)(),f=Object(l.useRef)(),m=Object(l.useRef)(),p=40;window.innerWidth<1200&&(s=200),window.innerWidth<1200&&(s=210),window.innerWidth<769&&(s=170,p=15);var g=Object(l.useMemo)((function(){if(void 0!==o){var e=L.h([t,a]),n=a>1e6?a>1e7?20*e:2*e:1.2*e;return L.l().domain([0,n]).range([$,o-X])}}),[o,t,a]);return Object(l.useEffect)((function(){if(void 0!==o){var e=L.b(g).ticks(2).tickFormat(L.e(".2s"));L.n(u.current).call(e)}}),[g,o]),c.a.createElement("svg",{width:"90%",height:s,className:"svg",style:{overflow:"visible",color:"black",paddingLeft:"30px",paddingTop:"10px"}},c.a.createElement("g",null,void 0!==o&&o>0?c.a.createElement("text",{x:10,y:p,fill:"black",className:"subtitle"},i):null),c.a.createElement("g",{ref:u,className:"xAxisContainer",transform:"translate(0, ".concat(s/1.5,")")}),void 0!==o&&o>0?c.a.createElement("g",{className:"rectContainer",ref:d,transform:"translate(".concat($,", ").concat(s/2.5," )")},c.a.createElement("rect",{ref:d,width:g(t)-$,height:s/4,className:"rect",fill:"#ff6a00"})):null,c.a.createElement("g",{ref:f,className:"lineContainer"},void 0!==o&&o>0?c.a.createElement("line",{x1:g(a),x2:g(a),y1:s/1.5,y2:s/3,stroke:"black",strokeWidth:"2px"}):null),c.a.createElement("g",{ref:m,className:"textContainer"},void 0!==o&&o>0?c.a.createElement("text",{y:s/3-10,fill:"black",className:"subtitle"},r," (",n,")"):null))},ee=function(e){var t=e.qDef.map((function(e){return{pos:e[1].qText,kpi_Val_type:e[4].qText,title:e[3].qText,val:e[12].qText,f_val:e[13].qText,lbl:e[14].qText}}));var a=V({def:{qInfo:{qType:"app data"},qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:["Kpi_id"]}}],qMeasures:[],qInitialDataFetch:[{qWidth:1,qHeight:10}]}},dataTransformFunc:Object(l.useCallback)((function(e){return e}),[])}).data,n=void 0===a?{}:a,r={value:t.find((function(e){return"ACTUAL"===e.kpi_Val_type})).val,target:t.find((function(e){return"TARGET"===e.kpi_Val_type})).val,targetRounded:t.find((function(e){return"TARGET"===e.kpi_Val_type})).f_val,tierName:t.find((function(e){return"TARGET TIER NAME"===e.kpi_Val_type})).lbl,title:t.find((function(e){return"ACTUAL"===e.kpi_Val_type})).lbl};r&&(r.value=isNaN(r.value)?0:r.value,r.target=isNaN(r.target)?0:r.target);var i=Object(l.useRef)(),o=I(i,n).width;return r?c.a.createElement("div",{className:"barChart",ref:i},c.a.createElement(Y,Object.assign({},r,{title:r.title,width:o,height:250}))):c.a.createElement("div",null,"Loading...")},te=(a(491),function(e){var t=e.qDef.map((function(e){return{valueType:e[4].qText.toUpperCase(),title:e[3].qText,val:e[12].qText,f_val:e[13].qText,lbl:e[14].qText}}));var a={subtitle:t.length?t[0].lbl:"",value:t.length?t[0].f_val:"",note2Text:t.length>1?isNaN(t[0].val/t[1].val)||!isFinite(t[0].val/t[1].val)?"0%":parseInt(t[0].val/t[1].val*100)+"%":"0%",note2Title:t.length>1?"Target Achieved":"",note2Value:t.length>1?isNaN(t[0].val/t[1].val)||!isFinite(t[0].val/t[1].val)?0:t[0].val/t[1].val:"",note1Value:t.length>1?t[1].f_val:"",note1Title:t.length>1?t[1].lbl:""};var n=R(a);if(!a)return null;var r=a.subtitle,i=a.value,l=a.note1Value,o=a.note2Text,s=a.note1Title,u=a.note2Title;return c.a.createElement("div",{className:"circle-block circle_2"},c.a.createElement("div",{className:"utilization_container"},c.a.createElement("svg",{viewBox:"0 0 100 100",height:"100%",className:"svg"},c.a.createElement("g",{className:"background-container",transform:"translate(0,6)"}),c.a.createElement("g",{ref:n,className:"foreground-container",transform:"translate(0,6)"})),c.a.createElement("div",{className:"percentage percentage2"},c.a.createElement("div",{className:"subtitle"},r),c.a.createElement("div",{className:"display"},i),c.a.createElement("div",{className:"note"},o," ",u),c.a.createElement("div",{className:"note"},l," ",s))))}),ae=(a(492),a(493),a(228)),ne=function(e){var t=Object(l.useState)(null),a=Object(y.a)(t,2),n=a[0],r=a[1];return Object(l.useEffect)((function(){var t=e.current,a=new ae.a((function(e){e.forEach((function(e){r(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),n};var re=function(e){var t=e.data,a=e.keys,n=e.colors,r=Object(l.useRef)(),i=Object(l.useRef)(),o=ne(i);Object(l.useEffect)((function(){var e=L.n(r.current),l=o||i.current.getBoundingClientRect(),c=l.width,s=l.height,u=L.p().keys(a).order(L.q)(t),d=[0,L.h(u,(function(e){return 1.4*L.h(e,(function(e){return e[1]}))}))>0?L.h(u,(function(e){return 1.4*L.h(e,(function(e){return e[1]}))})):500],f=L.k().domain(t.map((function(e){return e.points}))).range([0,c]).padding(.25),m=L.l().domain(d).range([s,0]);e.selectAll(".layer").data(u).join("g").attr("class","layer").attr("fill",(function(e){return n[e.key]})).selectAll("rect").data((function(e){return e})).join("rect").attr("x",(function(e){return f(e.data.points)})).attr("width",f.bandwidth()).attr("y",(function(e){return m(e[1])})).attr("height",(function(e){return m(isNaN(e[0])?0:e[0])-m(isNaN(e[1])?0:e[1])}));var p=L.b(f);e.select(".x-axis").attr("transform","translate(0, ".concat(s,")")).call(p);var g=L.c(m).ticks(4).tickSize(-c,0,10).tickSizeOuter(0);e.select(".y-axis").call(g)}),[n,t,o,a]);var s=Object.entries(n);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:i,style:{marginBottom:"2rem"}},c.a.createElement("svg",{ref:r,height:110,style:{marginLeft:"20px"}},c.a.createElement("g",{className:"x-axis"}),c.a.createElement("g",{className:"y-axis"}))),c.a.createElement("div",{id:"leapkpi-legend"},c.a.createElement("div",{className:"leapkpi-legend"},s.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},t>=1&&c.a.createElement("br",null)," ",c.a.createElement("span",{className:"key-dot",style:{background:e[1]}}),"  ",e[0]," ")})))))},ie=(a(494),function(e){var t=!1,a=e.qDef.map((function(e){return{pos:e[1].qText,kpi_Val_type:e[4].qText,title:e[3].qText,val:e[12].qText,f_val:e[13].qText,lbl:e[14].qText}}));var n={};n[a.find((function(e){return"DIM 1 VALUE 1"===e.kpi_Val_type})).lbl]="Coral",n[a.find((function(e){return"DIM 1 VALUE 2"===e.kpi_Val_type})).lbl]="Royalblue";var r=[a.find((function(e){return"DIM 1 VALUE 1"===e.kpi_Val_type})).lbl,a.find((function(e){return"DIM 1 VALUE 2"===e.kpi_Val_type})).lbl],i={points:""};i.points=a.find((function(e){return"DIM 1 LABEL"===e.kpi_Val_type})).lbl,i[r[0]]=a.find((function(e){return"DIM 1 VALUE 1"===e.kpi_Val_type})).f_val,i[r[1]]=a.find((function(e){return"DIM 1 VALUE 2"===e.kpi_Val_type})).f_val;var l={points:""};l.points=a.find((function(e){return"DIM 2 LABEL"===e.kpi_Val_type})).lbl,l[r[0]]=a.find((function(e){return"DIM 1 VALUE 2"===e.kpi_Val_type})).val,l[r[1]]=a.find((function(e){return"DIM 1 VALUE 2"===e.kpi_Val_type})).val;var o={dimention:[i,l],keys:r,colors:n,leapbartitle:a.find((function(e){return"TITLE LABEL"===e.kpi_Val_type})).lbl,leapkpititle:a.find((function(e){return"ACTUAL"===e.kpi_Val_type})).lbl,leapkpivalue:a.find((function(e){return"DIM 1 LABEL"===e.kpi_Val_type})).f_val};if(!o)return c.a.createElement("div",null,"Loading...");var s=o.dimention,u=o.keys,d=o.colors,f=o.leapbartitle,m=o.leapkpititle,p=o.leapkpivalue;return c.a.createElement("div",{className:"leapkpi"},c.a.createElement("div",{className:"col-8 col-sm-8 col-md-8 col-lg-8"},c.a.createElement("div",{title:f,className:"subtitle leaptitle"},f),c.a.createElement(re,{data:s,keys:u,colors:d})),c.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4 leapbar-kpi "},c.a.createElement("div",{className:"leapkpi-value-section"},c.a.createElement("div",{className:"leapkpi-value display"},p)),c.a.createElement("div",{title:m,className:"subtitle"},m)))}),le=a(229),ce=function(e){var t=e.drillDownUrl,a=Object(l.useState)({data:{bg:"#F3F4F4",color:"#3E8DDD"}}),n=Object(y.a)(a,2),r=n[0],i=n[1];return c.a.createElement("a",Object.assign({},t,{style:{textDecoration:"none"},target:"_blank"}),c.a.createElement("div",{className:"viewMore",style:{background:r.data.bg,color:r.data.color},onMouseEnter:function(){return i(t.href?{data:{bg:"#3E8DDD",color:"white"}}:{data:{bg:"#F3F4F4",color:"#3E8DDD"}})},onMouseLeave:function(){return i({data:{bg:"#F3F4F4 ",color:"#3E8DDD"}})}},t.href?"View more":"",t.href?c.a.createElement(le.a,{style:{float:"right",position:"relative",top:"5px",left:"-5px",color:r.data.color}}):""))},oe=(a(495),function(e){function t(e,t){for(var a=0;a<t.length;a++)if(t[a].lbl===e)return t[a]}var a=e.qDef.map((function(e){return{valueType:e[4].qText.toUpperCase(),title:e[3].qText,val:e[12].qNum,f_val:e[13].qText,lbl:"IDG"===e[14].qText?"PCSD":e[14].qText}})),n=[],r=a[0].title.split("IDG"),i=a[0].f_val.substr(a[0].f_val.length-3),l=["#FF7675","#8246AF","#F04187"];n[0]=t("PCSD",a)?t("PCSD",a):{f_val:"0.0 "+i,lbl:"PCSD",title:null,val:0,valueType:"ACTUAL"},n[1]=t("ISG",a)?t("ISG",a):{f_val:"0.0 "+i,lbl:"ISG",title:null,val:0,valueType:"ACTUAL"},n[2]=t("Services",a)?t("Services",a):{f_val:"0.0 "+i,lbl:"Services",title:null,val:0,valueType:"ACTUAL"};var o={dataPoints:[{bu:0,value:n[0].val,f_val:n[0].f_val,lbl:n[0].lbl,color:"red"},{bu:1,value:n[1].val,f_val:n[1].f_val,lbl:n[1].lbl,color:"blue"},{bu:2,value:n[2].val,f_val:n[2].f_val,lbl:n[2].lbl,color:"green"}],title:r,total:n[0].val+n[1].val+n[2].val},s=K(o.dataPoints);if(!o)return null;var u=o.dataPoints,d=o.title;return c.a.createElement("div",{className:"donut-block"},c.a.createElement("div",{className:"doughnut-title"},d),c.a.createElement("div",{ref:s,className:"utilization_container"},c.a.createElement("div",{className:"toolTipContainer"}),c.a.createElement("svg",{viewBox:"0 0 100 100",className:"svg"},c.a.createElement("g",{className:"foreground-container"})),c.a.createElement("div",{className:"donut-legend"},c.a.createElement("div",{className:"subtitle legend"},c.a.createElement("span",{className:"box",style:{backgroundColor:l[0]}}),c.a.createElement("span",{className:"lbl"},u[0].lbl),c.a.createElement("span",{className:"val"},u[0].f_val)),c.a.createElement("div",{className:"subtitle legend"},c.a.createElement("span",{className:"box",style:{backgroundColor:l[1]}}),c.a.createElement("span",{className:"lbl"},u[1].lbl),c.a.createElement("span",{className:"val"},u[1].f_val)),c.a.createElement("div",{className:"subtitle legend"},c.a.createElement("span",{className:"box",style:{backgroundColor:l[2]}}),c.a.createElement("span",{className:"lbl"},u[2].lbl),c.a.createElement("span",{className:"val"},u[2].f_val)))))}),se=function(){return{reffLines:"black",chartPrimaryColor:"#ff6a00"}},ue=["DCG-BR-9","DCG-EMEA-9","DCG-LAS-9","DCG-NA-9","PCSD-AP-14","PCSD-BR-14","PCSD-EMEA-14","PCSD-LAS-14","PCSD-NA-14","DCG-BR-10","DCG-EMEA-10","DCG-LAS-10","DCG-NA-10","PCSD-AP-15","PCSD-BR-15","PCSD-EMEA-15","PCSD-LAS-15","PCSD-NA-15"],de=w.a.keys(w.a.pickBy({BR:!0,EMEA:!0,LAS:!0,NA:!0,AP:!0})),fe=function(e,t){var a=!1;var n="";if(e&&e[6]&&e[7]&&e[8]&&de.includes(e[7].qText)&&t){if("EMEA"===e[7].qText&&e[9]&&("Authorized"===e[9].qText||"Non Main Branch"===e[9].qText))return{};if("EMEA"===e[7].qText&&"Admin"===e[8].qText&&"Non Main Branch"===e[9].qText&&"Non Main Branch"===e[10].qText)return{};var r=t.filter((function(t){var a=t.description.split("|").map((function(e){return e.trim()}));return a.includes(e[6].qText)}));r.length&&(n=ue.includes(e[6].qText)?"https://".concat(r[0].tenant,"/sense/app/").concat(r[0].app.id,"/state/analysis/options/clearselections/theme/light"):"https://".concat(r[0].tenant,"/sense/app/").concat(r[0].app.id,"/sheet/").concat(r[0].engineObjectId,"/state/analysis/options/clearselections/theme/light"))}return n?{href:n}:{}},me=function(e){var t=e.data,a=e.sheetData,n=e.tabName,r=function(e,t){if(t.includes("Specialist")&&e[0]&&"EMEA"===e[0][7].qText){var a=Object(N.groupBy)(e,(function(e){return e[17].qText.toLowerCase()})),n=Object.keys(a);Object.keys(a).forEach((function(e){var t=n.indexOf(e);a[e].map((function(e,a){e[1].row=t+1;var n=Number(e[1].qText)+t;e[1].qNum=n}))}))}var r=Object(N.groupBy)(e,(function(e){return e[2].qText.toLowerCase()})),i=r.kpi,c=r.gauge,o=r.line,s=r.bar,u=r.leap,d=r.doughnut,f=Object(l.useCallback)((function(e){return Object.values(Object(N.groupBy)(e,(function(e){return e[1].qNum})))}),[]);return{groupedKpis:Object(l.useMemo)((function(){return f(i)}),[f,i]),groupedGauges:Object(l.useMemo)((function(){return f(c)}),[f,c]),groupedLines:Object(l.useMemo)((function(){return f(o)}),[f,o]),groupedBars:Object(l.useMemo)((function(){return f(s)}),[f,s]),groupedLeaps:Object(l.useMemo)((function(){return f(u)}),[f,u]),groupedDoughnut:Object(l.useMemo)((function(){return f(d)}),[f,d])}}(t,n),i=r.groupedKpis,o=r.groupedGauges,s=r.groupedLines,u=r.groupedBars,d=r.groupedLeaps,f=r.groupedDoughnut,m=o.length+s.length+i.length,g=i.filter((function(e,t){return e[0][1].qNum<2})).length;function v(e,t,a){return a[0][17].qText?a[0][17].qText:null}var h=Object(l.useMemo)((function(){if(void 0!==i)return i.filter((function(e,t){return e[0][1].qNum<2})).map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"kpi-top-".concat(t),row:Math.trunc(e[0][1].qNum),position:e[0][1].qNum,style:{textDecoration:"none",color:"white"},className:"col-6 col-sm-3 col-md-3 col-lg-3 chart",rel:"noopener noreferrer",rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"kpi-top-container chart_card"},c.a.createElement(k,{qDef:e,bottomRowCount:m,kpiCount:g})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[i,g,m,a,n]),b=Object(l.useMemo)((function(){if(void 0!==i)return i.filter((function(e,t){return e[0][1].qNum>2})).map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"kpi-bottom-".concat(t),row:Math.trunc(e[0][1].qNum),position:e[0][1].qNum,style:{textDecoration:"none",color:"white",height:"100%"},className:"col-6 col-sm-3 col-md-3 col-lg-3 chart",rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"kpi-bottom-container chart_card",style:{height:"100%"}},c.a.createElement(k,{qDef:e})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[i,a,n]),q=Object(l.useMemo)((function(){if(void 0!==o)return o.filter((function(e){return e.length>1})).map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"guage-".concat(t),row:Math.trunc(e[0][1].qNum),position:e[0][1].qNum,style:{height:"100%"},className:"col-6 col-sm-3 col-md-3 col-lg-3 chart",rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"kpi-bottom-container chart_card",style:{height:"100%"}},c.a.createElement(te,{qDef:e})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[o,a,n]),E=Object(l.useMemo)((function(){if(void 0!==s)return s.map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"line-".concat(t),row:Math.trunc(e[0][1].qNum),position:e[0][1].qNum,style:{height:"100%"},className:q.length+b.length===0?"col-9 col-sm-5 col-md-7 col-lg-5 chart":"col-6 col-sm-3 col-md-3 col-lg-3 chart",rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"line-container chart_card",style:{height:"100%"}},c.a.createElement(Q,{qDef:e})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[s,q.length,b.length,a,n]),D=Object(l.useMemo)((function(){if(void 0!==u)return u.map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"bar-".concat(t),row:Math.trunc(e[0][1].qNum),position:e[0][1].qNum,className:q.length+b.length===0?"col-9 col-sm-4 col-md-4 col-lg-4 chart":"col-6 col-sm-3 col-md-3 col-lg-3 chart",style:{height:"100%"},rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"bar-container kpi-bottom-container chart_card ",style:{height:"100%"}},c.a.createElement(ee,{qDef:e})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[u,q,b,a,n]),y=Object(l.useMemo)((function(){if(void 0!==d)return d.map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"leapbar-".concat(t),position:e[0][1].qNum,className:q.length+b.length===0?"col-9 col-sm-4 col-md-4 col-lg-4 chart":"col-6 col-sm-3 col-md-3 col-lg-3 chart",style:{height:"100%"},rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"leapkpi-bottom-container kpi-bottom-container chart_card",style:{height:"100%"}},c.a.createElement(ie,{qDef:e})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[d,q,b,a,n]),w=Object(l.useMemo)((function(){if(void 0!==f)return f.map((function(e,t){var n=fe(e[t],a);return c.a.createElement("div",{key:"Doughnut-".concat(t),row:Math.trunc(e[0][1].qNum),position:e[0][1].qNum,className:q.length+b.length===0?"col-9 col-sm-4 col-md-4 col-lg-4 chart":"col-6 col-sm-3 col-md-3 col-lg-3 chart",style:{height:"100%"},rowtitle:v(0,e[0][7].qText,e)},c.a.createElement("div",{className:"doughnut-bottom-container chart_card",style:{height:"100%"}},c.a.createElement(oe,{qDef:e})),c.a.createElement(ce,{drillDownUrl:n}))}))}),[f,q,b,a,n]),x=[].concat(h,b,q,E,D,y,w).sort((function(e,t){return e.props.position-t.props.position})),T=Object(l.useCallback)((function(e){return Object.values(Object(N.groupBy)(e,(function(e){return e.props.row})))}),[]),j=T(x);window.innerWidth<770&&h.length,window.innerWidth<770&&x.length,window.innerWidth<770&&j.length&&j[0].length;var _=Object(l.useRef)(null);return c.a.createElement("div",{ref:_,className:"App"},c.a.createElement("div",{className:"App-header"},0===t.length?c.a.createElement(p,{message:"No data available"}):c.a.createElement("div",{className:"container-fluid"},j.length>0?j.map((function(e,t){var a="";return Object(N.isNull)(e)||(a=e[0].props.rowtitle,t>0&&n.includes("-")&&(a=j[t-1][0].props.rowtitle===e[0].props.rowtitle?"":e[0].props.rowtitle)),c.a.createElement("div",{key:t}," ",Object(N.isNull)(e)?null:c.a.createElement("div",{className:"page-subTitle"},e.length?a:""),c.a.createElement("div",{className:"row align-items-center justify-content-around bottom-row"},e))})):null)))},pe=a(139),ge=new URLSearchParams(window.location.search).get("lang"),ve=function(e){var t=e.message;if("Connection Failed"!==t&&null!==ge){var a=f.filter((function(e,t){return e.key===ge}));t=a&&a[0]&&void 0!==a[0].loadingMsg?a[0].loadingMsg:"Dashboard is loading, please wait"}return c.a.createElement("div",{style:{fontSize:"24px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},t)},he=(a(500),function(e){var t=e.children,a=Object(l.useState)(0),n=Object(y.a)(a,2),r=n[0],i=n[1],o=Object(l.useState)([]),s=Object(y.a)(o,2),u=s[0],d=s[1],f=Object(l.useState)(!1),m=Object(y.a)(f,2),p=m[0],g=m[1];Object(l.useEffect)((function(){var e=[];c.a.Children.forEach(t,(function(t){if(c.a.isValidElement(t)){var a=t.props,n=a.tab,r=a.isMain,i=a.children;e.push({tab:n,isMain:r,children:i})}})),d(e)}),[t]),Object(l.useEffect)((function(){void 0!==u[r]&&(u[r].children[1].props.data.length>0?g(!0):g(!1)),i(0)}),[u]);var v=Object(l.useRef)(null);return Object(l.useEffect)((function(){if(0!=u.length&&v.current&&u[r]){var e={height:v.current.closest("#root").clientHeight,rows:v.current.children.length,tabName:u[r].tab};"undefined"!==e.height&&window.parent.postMessage(e,"*")}})),c.a.createElement("div",{className:p?"":"noAccessBg"},c.a.createElement("ul",{className:"nav nav-tabs nav-justified"},u.map((function(e,t){var a=e.tab;return c.a.createElement("li",{key:t,style:"-"==a?{display:"none"}:{display:"block"},className:"nav-item ".concat(t===r?"active":"")},c.a.createElement("a",{className:"nav-link ".concat(t===r?"active":""),href:"#",onClick:function(){return function(e){e==u.length?i(0):i(e)}(t)}},a))}))),c.a.createElement("div",{ref:v,className:"tab-content p-3"},u[r]&&u[r].children))});he.TabPane=function(e){return e.children};var be=he,qe=function(){var e=Object(l.useContext)(j),t=function(){var e=Object(l.useState)(null),t=Object(y.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)(null),i=Object(y.a)(r,2),c=i[0],o=i[1],s=Object(l.useState)(!1),u=Object(y.a)(s,2),d=u[0],f=(u[1],Object(l.useState)(!0)),m=Object(y.a)(f,2),p=m[0],g=m[1],v=Object(l.useState)([]),h=Object(y.a)(v,2),b=h[0],q=h[1],E=V({def:O,dataTransformFunc:Object(l.useCallback)((function(e){return e.qDataPages.length>0?e.qDataPages[0].qMatrix:null}),[O])});Object(l.useEffect)((function(){null!==E.data&&(Object(D.a)(E.data).map((function(e){e[11].qText||(e[11].qText="-")})),n(E.data))}),[E]);var k=V({def:C,dataTransformFunc:Object(l.useCallback)((function(e){var t=e.qDataPages[0].qMatrix[0];return{quarter:t[0].qText,quarterStartDate:t[1].qText,quarterEndDate:t[2].qText,snapDate:t[3].qText}}),[])});Object(l.useEffect)((function(){null!==k.data&&(o(k.data),g(!1))}),[E,k]);var N=G({qInfo:{qType:"tab list"},qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:["sub_tab"],qSortCriterias:[{qSortByState:0,qSortByFrequency:0,qSortByNumeric:0,qSortByAscii:1,qSortByLoadOrder:0,qSortByExpression:1,qExpression:{qv:"MATCH(sub_tab,'"+["PCSD Sales Overview","PCSD Main Program","PCSD Specialist Program","PCSD Program Performance","PCSD Sales Performance","PCSD - Sales","PCSD - Services","PCSD - Rebates","ISG","ISG Sales Overview","ISG Main Program","ISG Specialist Program","ISG Sales Performance","ISG Program Performance","Tier","Others"].join("','")+"')"}}]}},{qDef:{qFieldDefs:["tab"]}}],qInitialDataFetch:[{qWidth:2,qHeight:100}]}}),w=Object(M.useGetLayout)(N,{params:[],invalidations:!0}).qResponse;return Object(l.useEffect)((function(){if(null!==w){var e=w.qHyperCube.qDataPages[0].qMatrix;e.forEach((function(e){e.forEach((function(e){e.hasOwnProperty("qText")||(e.qText="-")}))})),q(e)}}),[w]),{tabData:b,chartControlData:a,accessDenied:d,appData:c,isLoading:p}}(),a=t.chartControlData,n=t.tabData,r=t.accessDenied,i=t.appData,o=t.isLoading,s=function(){var e=Object(l.useState)(null),t=Object(y.a)(e,2),a=t[0],n=t[1],r=Object(l.useContext)(j).apps,i=Object(l.useContext)(j).config,c=V({def:B,dataTransformFunc:Object(l.useCallback)((function(e){return e.qDataPages[0].qMatrix.map((function(e){return{app:{},sheetId:e[0].qText,engineObjectId:e[0].qText,sheetName:e[1].qText,description:e[2].qText,appName:e[3].qText}}))}),[])});return Object(l.useEffect)((function(){r&&c&&c.data&&(c.data.forEach((function(e){var t;e.app.id=null===(t=r.find((function(t){return t.name===e.appName})))||void 0===t?void 0:t.resourceId,e.tenant=i.host})),n(c.data))}),[r,c,i]),a}(),u=Object(l.useState)(0),d=Object(y.a)(u,2),f=d[0],m=d[1],g=[],v=[];g=Object(l.useMemo)((function(){return void 0!==q&&void 0!==v?v.map((function(e,t){return q[f].filter((function(t){return t[11].qText===e}))})):[]}),[f]);var h=Object(l.useMemo)((function(){return Object(pe.flow)(Object(pe.sortBy)((function(e){return e[1].qNum})))(a)}),[a]),b=Object(l.useMemo)((function(){var e=n.map((function(e){return e[1].qText}));return e.filter((function(t,a){return e.indexOf(t)===a}))}),[n]),q=Object(l.useMemo)((function(){if(b.length)return b.map((function(e,t){return h.filter((function(e){return e[18].qText===b[t]}))}))}),[b,h]);if(v=Object(l.useMemo)((function(){var e=[];return void 0!=q?(e=q[f].map((function(e,t){return e[11].qText})),Object(D.a)(new Set(e.map((function(e){return e}))))):[]}),[q,f]),void 0!==n&&n.length&&function(){if(void 0!==q&&void 0!==v){var e=v.map((function(e,t){return q[f].filter((function(t){return t[11].qText===e}))}));g=e}}(),o&&!e.doc.error&&!e.session.error)return c.a.createElement(ve,{message:"Dashboard is loading, please wait"});var E=0===v.length||void 0===v||void 0===q||e.doc.error;return c.a.createElement("div",{className:E?"noAccessBg":""},r||null!==e.doc.error?c.a.createElement(p,{message:"No data available"}):null!==e.session.error?c.a.createElement(p,{message:"Connection Failed"}):c.a.createElement("div",{className:""},c.a.createElement("div",{className:"pri-nav-container"},c.a.createElement("ul",{className:"pri-nav pri-nav-tabs nav-justified my-Container"},b.map((function(e,t){return c.a.createElement("li",{key:t,className:"pri-nav-item ".concat(t===f?"active":"")},c.a.createElement("a",{className:"pri-nav-link ".concat(t===f?"active":""),href:"#",onClick:function(){return m(t)}},e))})))),c.a.createElement(be,null," ",v.map((function(e,t){return c.a.createElement(be.TabPane,{key:t,tab:e},null!==i&&null!==a?c.a.createElement("div",{style:g[t].length?{}:{display:"none"}},c.a.createElement("span",{className:"pageName"}),c.a.createElement("span",{className:"quarter"},i.quarter),c.a.createElement("div",{style:{lineHeight:"1"}},c.a.createElement("span",{className:"snapDate"},"As of: ".concat(i.snapDate)),c.a.createElement("span",{className:"quarterRange"},"(".concat(i.quarterStartDate," ")," \xa0\xa0-\xa0\xa0"," ".concat(i.quarterEndDate,")")))):null,c.a.createElement(me,{data:g[t],sheetData:s,tabName:e}))})))))};String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),E("NEW SALES PERFORMANCE DASHBOARD").then((function(e){e&&s.a.render(c.a.createElement(_,{config:e.config,apps:e.apps},c.a.createElement(qe,null)),document.getElementById("root"))})).catch((function(e){console.log("ERROR",e)}))}},[[271,1,2]]]);
//# sourceMappingURL=main.ccc469ae.chunk.js.map